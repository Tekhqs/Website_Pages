(function(b,a){a("util/text-metrics",["kendo.core"],b);
}(function(){(function(a){window.kendo.util=window.kendo.util||{};
var e=kendo.Class.extend({init:function(j){this._size=j;
this._length=0;
this._map={};
},put:function(k,m){var l=this._map;
var j={key:k,value:m};
l[k]=j;
if(!this._head){this._head=this._tail=j;
}else{this._tail.newer=j;
j.older=this._tail;
this._tail=j;
}if(this._length>=this._size){l[this._head.key]=null;
this._head=this._head.newer;
this._head.older=null;
}else{this._length++;
}},get:function(k){var j=this._map[k];
if(j){if(j===this._head&&j!==this._tail){this._head=j.newer;
this._head.older=null;
}if(j!==this._tail){if(j.older){j.older.newer=j.newer;
j.newer.older=j.older;
}j.older=this._tail;
j.newer=null;
this._tail.newer=j;
this._tail=j;
}return j.value;
}}});
function g(k){var l=[];
for(var j in k){l.push(j+k[j]);
}return l.sort().join("");
}function d(l){var j=2166136261;
for(var k=0;
k<l.length;
++k){j+=(j<<1)+(j<<4)+(j<<7)+(j<<8)+(j<<24);
j^=l.charCodeAt(k);
}return j>>>0;
}function i(){return{width:0,height:0,baseline:0};
}var b={baselineMarkerSize:1};
var c;
if(typeof document!=="undefined"){c=document.createElement("div");
c.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;";
}var h=kendo.Class.extend({init:function(j){this._cache=new e(1000);
this.options=a.extend({},b,j);
},measure:function(s,q,k){if(!s){return i();
}var r=g(q);
var m=d(s+r);
var l=this._cache.get(m);
if(l){return l;
}var p=i();
var o=k||c;
var j=this._baselineMarker().cloneNode(false);
for(var n in q){var t=q[n];
if(typeof t!=="undefined"){o.style[n]=t;
}}o.textContent=s;
o.appendChild(j);
document.body.appendChild(o);
if(String(s).length){p.width=o.offsetWidth-this.options.baselineMarkerSize;
p.height=o.offsetHeight;
p.baseline=j.offsetTop+this.options.baselineMarkerSize;
}if(p.width>0&&p.height>0){this._cache.put(m,p);
}o.parentNode.removeChild(o);
return p;
},_baselineMarker:function(){var j=document.createElement("div");
j.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;";
return j;
}});
h.current=new h();
function f(l,k,j){return h.current.measure(l,k,j);
}kendo.deepExtend(kendo.util,{LRUCache:e,TextMetrics:h,measureText:f,objectKey:g,hashKey:d});
}(window.kendo.jQuery));
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
(function(b,a){a("kendo.grid",["kendo.data","kendo.columnsorter","kendo.editable","kendo.window","kendo.filtermenu","kendo.columnmenu","kendo.groupable","kendo.pager","kendo.selectable","kendo.sortable","kendo.reorderable","kendo.resizable","kendo.mobile.actionsheet","kendo.mobile.pane","kendo.ooxml","kendo.excel","kendo.progressbar","kendo.pdf"],b);
}(function(){var a={id:"grid",name:"Grid",category:"web",description:"The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.",depends:["data","columnsorter"],features:[{id:"grid-editing",name:"Editing",description:"Support for record editing",depends:["editable","window"]},{id:"grid-filtering",name:"Filtering",description:"Support for record filtering",depends:["filtermenu"]},{id:"grid-columnmenu",name:"Column menu",description:"Support for header column menu",depends:["columnmenu"]},{id:"grid-grouping",name:"Grouping",description:"Support for grid grouping",depends:["groupable"]},{id:"grid-filtercell",name:"Row filter",description:"Support for grid header filtering",depends:["filtercell"]},{id:"grid-paging",name:"Paging",description:"Support for grid paging",depends:["pager"]},{id:"grid-selection",name:"Selection",description:"Support for row selection",depends:["selectable"]},{id:"grid-column-reorder",name:"Column reordering",description:"Support for column reordering",depends:["reorderable"]},{id:"grid-column-resize",name:"Column resizing",description:"Support for column resizing",depends:["resizable"]},{id:"grid-mobile",name:"Grid adaptive rendering",description:"Support for adaptive rendering",depends:["mobile.actionsheet","mobile.pane"]},{id:"grid-excel-export",name:"Excel export",description:"Export grid data as Excel spreadsheet",depends:["excel"]},{id:"grid-pdf-export",name:"PDF export",description:"Export grid data as PDF",depends:["pdf","drawing","progressbar"]}]};
(function(b,bp){var aC=window.kendo,bo=aC.ui,F=aC.data.DataSource,bl=aC.support.tbodyInnerHtml,c=aC._activeElement,bz=bo.Widget,aY=aC._outerWidth,aX=aC._outerHeight,aD=aC.keys,az=b.isPlainObject,P=b.extend,aH=b.map,ad=b.grep,ap=b.isArray,ao=b.inArray,a2=Array.prototype.push,a1=b.proxy,au=aC.isFunction,at=b.isEmptyObject,aJ=Math,a0="progress",O="error",D=":not(.k-group-cell):not(.k-hierarchy-cell):visible",bb="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",aO="tr:not(.k-footer-template):visible",aM=":not(.k-group-cell):not(.k-hierarchy-cell):visible",U=aO+":first>"+aM+":first",ak="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",aW=".kendoGrid",M="edit",a8="save",a3="remove",L="detailInit",Q="filterMenuInit",p="columnMenuInit",k="change",n="columnHide",v="columnShow",a9="saveChanges",E="dataBound",K="detailExpand",J="detailCollapse",X="k-state-focused",ba="k-state-selected",aS="k-grid-norecords",u="columnResize",t="columnReorder",o="columnLock",x="columnUnlock",aN="navigate",m="click",al="height",bi="tabIndex",ab="function",bf="string",H="Are you sure you want to delete this record?",aR="No records available.",A="Delete",j="Cancel",aa=/(\}|\#)/gi,bm=/#/gi,by="[\\x20\\t\\r\\n\\f]",aP=new RegExp("(^|"+by+")(k-group-cell|k-hierarchy-cell)("+by+"|$)"),R=new RegExp("(^|"+by+")(k-filter-row)("+by+"|$)"),z='<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',aA=false,i=aC.support.browser,av=i.msie&&i.version==7,aw=i.msie&&i.version==8;
var bt=bz.extend({init:function(bA,bB){var bC=this;
bz.fn.init.call(bC,bA,bB);
bC._refreshHandler=a1(bC.refresh,bC);
bC.setDataSource(bB.dataSource);
bC.wrap();
},setDataSource:function(bA){var bB=this;
if(bB.dataSource){bB.dataSource.unbind(k,bB._refreshHandler);
}bB.dataSource=bA;
bB.dataSource.bind(k,bB._refreshHandler);
},options:{name:"VirtualScrollable",itemHeight:b.noop,prefetch:true},destroy:function(){var bA=this;
bz.fn.destroy.call(bA);
bA.dataSource.unbind(k,bA._refreshHandler);
bA.wrapper.add(bA.verticalScrollbar).off(aW);
if(bA.drag){bA.drag.destroy();
bA.drag=null;
}bA.wrapper=bA.element=bA.verticalScrollbar=null;
bA._refreshHandler=null;
},wrap:function(){var bC=this,bB=aC.support.scrollbar()+1,bA=bC.element,bD;
bA.css({width:"auto",overflow:"hidden"}).css(aA?"padding-left":"padding-right",bB);
bC.content=bA.children().first();
bD=bC.wrapper=bC.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+aW+" mousewheel"+aW,a1(bC._wheelScroll,bC));
if(aC.support.kineticScrollNeeded){bC.drag=new aC.UserEvents(bC.wrapper,{global:true,start:function(bE){bE.sender.capture();
},move:function(bE){bC.verticalScrollbar.scrollTop(bC.verticalScrollbar.scrollTop()-bE.y.delta);
bD.scrollLeft(bD.scrollLeft()-bE.x.delta);
bE.preventDefault();
}});
}bC.verticalScrollbar=b('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:bB}).appendTo(bA).bind("scroll"+aW,a1(bC._scroll,bC));
},_wheelScroll:function(bB){if(bB.ctrlKey){return;
}var bC=this.verticalScrollbar,bD=bC.scrollTop(),bA=aC.wheelDeltaY(bB);
if(bA&&!(bA>0&&bD===0)&&!(bA<0&&bD+bC[0].clientHeight==bC[0].scrollHeight)){bB.preventDefault();
this.verticalScrollbar.scrollTop(bD+-bA);
}},_scroll:function(bC){var bL=this,bB=!bL.options.prefetch,bI=bC.currentTarget.scrollTop,bA=bL.dataSource,bH=bL.itemHeight,bJ=bA.skip()||0,bK=bL._rangeStart||bJ,bE=bL.element.innerHeight(),bF=!!(bL._scrollbarTop&&bL._scrollbarTop>bI),bD=aJ.max(aJ.floor(bI/bH),0),bG=aJ.max(bD+aJ.floor(bE/bH),0);
bL._scrollTop=bI-bK*bH;
bL._scrollbarTop=bI;
bL._scrolling=bB;
if(!bL._fetch(bD,bG,bF)){bL.wrapper[0].scrollTop=bL._scrollTop;
}if(bB){if(bL._scrollingTimeout){clearTimeout(bL._scrollingTimeout);
}bL._scrollingTimeout=setTimeout(function(){bL._scrolling=false;
bL._page(bL._rangeStart,bL.dataSource.take());
},100);
}},itemIndex:function(bB){var bA=this._rangeStart||this.dataSource.skip()||0;
return bA+bB;
},position:function(bA){var bC=this._rangeStart||this.dataSource.skip()||0;
var bB=this.dataSource.pageSize();
var bD;
if(bA>bC){bD=bA-bC+1;
}else{bD=bC-bA-1;
}return bD>bB?bB:bD;
},scrollIntoView:function(bF){var bA=this.wrapper[0];
var bB=bA.clientHeight;
var bC=this._scrollTop||bA.scrollTop;
var bE=bF[0].offsetTop;
var bD=bF[0].offsetHeight;
if(bC>bE){this.verticalScrollbar[0].scrollTop-=bB/2;
}else{if(bE+bD>=bC+bB){this.verticalScrollbar[0].scrollTop+=bB/2;
}}},_fetch:function(bD,bF,bI){var bK=this,bB=bK.dataSource,bE=bK.itemHeight,bJ=bB.take(),bH=bK._rangeStart||bB.skip()||0,bA=aJ.floor(bD/bJ)*bJ,bC=false,bG=0.33;
if(bD<bH){bC=true;
bH=aJ.max(0,bF-bJ);
bK._scrollTop=(bD-bH)*bE;
bK._page(bH,bJ);
}else{if(bF>=bH+bJ&&!bI){bC=true;
bH=bD;
bK._scrollTop=bE;
bK._page(bH,bJ);
}else{if(!bK._fetching&&bK.options.prefetch){if(bD<bA+bJ-bJ*bG&&bD>bJ){bB.prefetch(bA-bJ,bJ,b.noop);
}if(bF>bA+bJ*bG){bB.prefetch(bA+bJ,bJ,b.noop);
}}}}return bC;
},fetching:function(){return this._fetching;
},_page:function(bC,bD){var bE=this,bB=!bE.options.prefetch,bA=bE.dataSource;
clearTimeout(bE._timeout);
bE._fetching=true;
bE._rangeStart=bC;
if(bA.inRange(bC,bD)){bA.range(bC,bD);
}else{if(!bB){aC.ui.progress(bE.wrapper.parent(),true);
}bE._timeout=setTimeout(function(){if(!bE._scrolling){if(bB){aC.ui.progress(bE.wrapper.parent(),true);
}bA.range(bC,bD);
}},100);
}},repaintScrollbar:function(){var bH=this,bC="",bF=250000,bB=bH.dataSource,bG=!aC.support.kineticScrollNeeded?aC.support.scrollbar():0,bJ=bH.wrapper[0],bI,bD,bE;
bE=bH.itemHeight=bH.options.itemHeight()||0;
var bA=bJ.scrollWidth>bJ.offsetWidth?bG:0;
bI=bB.total()*bE+bA;
for(bD=0;
bD<aJ.floor(bI/bF);
bD++){bC+='<div style="width:1px;height:'+bF+'px"></div>';
}if(bI%bF){bC+='<div style="width:1px;height:'+bI%bF+'px"></div>';
}bH.verticalScrollbar.html(bC);
bJ.scrollTop=bH._scrollTop;
},refresh:function(){var bC=this,bA=bC.dataSource,bB=bC._rangeStart;
aC.ui.progress(bC.wrapper.parent(),false);
clearTimeout(bC._timeout);
bC.repaintScrollbar();
if(bC.drag){bC.drag.cancel();
}if(bB&&!bC._fetching){bC._rangeStart=bA.skip();
if(bA.page()===1){bC.verticalScrollbar[0].scrollTop=0;
}}bC._fetching=false;
}});
function af(bA){return new Array(bA+1).join('<td class="k-group-cell">&nbsp;</td>');
}function bg(bB){var bA,bC=" ";
if(bB){if(typeof bB===bf){return bB;
}for(bA in bB){bC+=bA+'="'+bB[bA]+'"';
}}return bC;
}var G={create:{text:"Add new record",imageClass:"k-i-plus",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-i-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-i-check",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-i-close",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-i-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-i-check",className:"k-primary k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-i-cancel",className:"k-grid-cancel",iconClass:"k-icon"},excel:{text:"Export to Excel",imageClass:"k-i-file-excel",className:"k-grid-excel",iconClass:"k-icon"},pdf:{text:"Export to PDF",imageClass:"k-i-file-pdf",className:"k-grid-pdf",iconClass:"k-icon"}};
function C(bA,bB){b("th, th .k-grid-filter, th .k-link",bA).add(document.body).css("cursor",bB);
}function a7(bE,bF,bC,bA,bB){var bG=bF;
bF=b();
bB=bB||1;
for(var bD=0;
bD<bB;
bD++){bF=bF.add(bE.eq(bG+bD));
}if(typeof bC=="number"){bF[bA?"insertBefore":"insertAfter"](bE.eq(bC));
}else{bF.appendTo(bC);
}}function N(bC,bA,bB){return b(bC).add(bA).find(bB);
}function h(bE,bD,bC){var bF,bG,bA,bB;
bC=!ap(bC)?[bC]:bC;
for(bF=0,bG=bC.length;
bF<bG;
bF++){bA=bC[bF];
if(az(bA)&&bA.click){bB=bA.name||bA.text;
bD.on(m+aW,"a.k-grid-"+(bB||"").replace(/\s/g,""),{commandName:bB},a1(bA.click,bE));
}}}function aU(bA,bB,bC){return aH(bA,function(bD){bD=typeof bD===bf?{field:bD}:bD;
var bE;
if(!aB(bD)||bC){bD.attributes=d(bD.attributes);
bD.footerAttributes=d(bD.footerAttributes);
bD.headerAttributes=d(bD.headerAttributes);
bE=true;
}if(bD.columns){bD.columns=aU(bD.columns,bB,bE);
}var bF=aC.guid();
bD.headerAttributes=P({id:bF},bD.headerAttributes);
return P({encoded:bB,hidden:bE},bD);
});
}function q(bA,bB){var bC=[];
r(bA,bB,bC);
return bC[bC.length-1];
}function r(bA,bB,bE){bE=bE||[];
for(var bC=0;
bC<bB.length;
bC++){if(bA===bB[bC]){return true;
}else{if(bB[bC].columns){var bD=bE.length;
bE.push(bB[bC]);
if(!r(bA,bB[bC].columns,bE)){bE.splice(bD,bE.length-bD);
}else{return true;
}}}}return false;
}function bd(bA,bC){var bB=bC?a5:d;
bA.hidden=!bC;
bA.attributes=bB(bA.attributes);
bA.footerAttributes=bB(bA.footerAttributes);
bA.headerAttributes=bB(bA.headerAttributes);
}function aq(){return this.style.display!=="none";
}function aB(bA){return bu([bA]).length>0;
}function bu(bA){return ad(bA,function(bB){var bC=!bB.hidden;
if(bC&&bB.columns){bC=bu(bB.columns).length>0;
}return bC;
});
}function bn(bA){return b(bA).map(function(){return this.toArray();
});
}function br(bA,bB,bF){var bC=I(aG(bB));
var bD=I(aQ(bB));
var bE=bA.rowSpan;
if(bF){if(bC>bD){bA.rowSpan=bE-(bC-bD)||1;
}else{bA.rowSpan=bE+(bD-bC);
}}else{if(bC>bD){bA.rowSpan=bE+(bC-bD);
}else{bA.rowSpan=bE-(bD-bC)||1;
}}}function aL(bH,bJ,bF,bA,bB,bC,bE){var bI=I(bH);
var bK=I([bJ]);
if(bI>bK){var bD=new Array(bE+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>');
var bG=bC.children(":not(.k-filter-row)");
b(new Array(bI-bK+1).join("<tr>"+bD+"</tr>")).insertAfter(bG.last());
}e(bC,bI-bK);
aK(bF,bA,bB,bC);
}function bq(bK,bD,bH){bH=bH||0;
var bI;
var bB;
var bA=bD;
bD=aE(bD);
var bC={};
var bJ=bK.find(">tr:not(.k-filter-row)");
var bE=function(){var bL=b(this);
return !bL.hasClass("k-group-cell")&&!bL.hasClass("k-hierarchy-cell");
};
for(var bF=0,bG=bD.length;
bF<bG;
bF++){bI=s(bD[bF],bA);
if(!bC[bI.row]){bC[bI.row]=bJ.eq(bI.row).find(".k-header").filter(bE);
}bB=bC[bI.row].eq(bI.cell);
bB.attr(aC.attr("index"),bH+bF);
}return bD.length;
}function I(bA){var bD=1;
var bC=0;
for(var bB=0;
bB<bA.length;
bB++){if(bA[bB].columns){var bE=I(bA[bB].columns);
if(bE>bC){bC=bE;
}}}return bD+bC;
}function aK(bF,bB,bC,bD){var bH=y(bF[0],bB);
var bJ=bC.find(">tr:not(.k-filter-row):eq("+bH.row+")>th.k-header");
var bI=b();
var bG=bH.cell;
var bE;
for(bE=0;
bE<bF.length;
bE++){bI=bI.add(bJ.eq(bG+bE));
}bD.find(">tr:not(.k-filter-row)").eq(bH.row).append(bI);
var bA=[];
for(bE=0;
bE<bF.length;
bE++){if(bF[bE].columns){bA=bA.concat(bF[bE].columns);
}}if(bA.length){aK(bA,bB,bC,bD);
}}function s(bB,bC,bF,bA){var bE;
var bD;
bF=bF||0;
bA=bA||{};
bA[bF]=bA[bF]||0;
for(bD=0;
bD<bC.length;
bD++){if(bC[bD]==bB){bE={cell:bA[bF],row:bF};
break;
}else{if(bC[bD].columns){bE=s(bB,bC[bD].columns,bF+1,bA);
if(bE){break;
}}}bA[bF]++;
}return bE;
}function S(bA,bB,bE,bD){var bF;
var bC=bE.locked;
do{bF=bA[bB];
bB+=bD?1:-1;
}while(bF&&bB>-1&&bB<bA.length&&bF!=bE&&!bF.columns&&bF.locked==bC);
return bF;
}function T(bB,bH,bF,bA){if(bH.columns){bH=bH.columns;
return bH[bA?0:bH.length-1];
}else{var bD=q(bH,bB);
var bE;
if(bD){bE=bD.columns;
}else{bE=bB;
}var bC=ao(bH,bE);
if(bC===0&&bA){bC++;
}else{if(bC==bE.length-1&&!bA){bC--;
}else{if(bC>0||bC===0&&!bA){bC+=bA?-1:1;
}}}var bG=ao(bF,bE);
bH=S(bE,bC,bF,bG>bC);
if(bH&&bH!=bF&&bH.columns){return T(bB,bH,bF,bA);
}}return null;
}function y(bB,bC,bF,bA){var bE;
var bD;
bF=bF||0;
bA=bA||{};
bA[bF]=bA[bF]||0;
for(bD=0;
bD<bC.length;
bD++){if(bC[bD]==bB){bE={cell:bA[bF],row:bF};
break;
}else{if(bC[bD].columns){bE=y(bB,bC[bD].columns,bF+1,bA);
if(bE){break;
}}}if(!bC[bD].hidden){bA[bF]++;
}}return bE;
}function W(bA){var bB=V(aG(bA));
return bB.concat(V(aQ(bA)));
}function V(bB){var bD=[];
var bA=[];
for(var bC=0;
bC<bB.length;
bC++){bD.push(bB[bC]);
if(bB[bC].columns){bA=bA.concat(bB[bC].columns);
}}if(bA.length){bD=bD.concat(V(bA));
}return bD;
}function am(bB){var bC=0;
var bA;
for(var bD=0;
bD<bB.length;
bD++){bA=bB[bD];
if(bA.columns){bC+=am(bA.columns);
}else{if(bA.hidden){bC++;
}}}return bC;
}function w(bA){var bB,bE=0;
for(var bC=0,bD=bA.length;
bC<bD;
bC++){bB=bA[bC].style.width;
if(bB&&bB.indexOf("%")==-1){bE+=parseInt(bB,10);
}}return bE;
}function a6(bB,bC){var bA=bB.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");
var bE;
for(var bD=0;
bD<bA.length;
bD++){bE=bA[bD].rowSpan;
if(bE>1){bA[bD].rowSpan=bE-bC||1;
}}}function e(bB,bC){var bA=bB.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");
for(var bD=0;
bD<bA.length;
bD++){bA[bD].rowSpan+=bC;
}}function a4(bB){var bE=bB.find("tr:not(.k-filter-row)");
var bC=bE.filter(function(){return !b(this).children().length;
}).remove().length;
var bA=bE.find("th:not(.k-group-cell,.k-hierarchy-cell)");
for(var bD=0;
bD<bA.length;
bD++){if(bA[bD].rowSpan>1){bA[bD].rowSpan-=bC;
}}return bE.length-bC;
}function aI(bC,bA,bI,bH,bF){var bD,bG,bE,bB=[];
for(bD=0,bE=bC.length;
bD<bE;
bD++){bG=bI[bH]||[];
bG.push(bA.eq(bF+bD));
bI[bH]=bG;
if(bC[bD].columns){bB=bB.concat(bC[bD].columns);
}}if(bB.length){aI(bB,bA,bI,bH+1,bF+bC.length);
}}function aG(bA){return ad(bA,function(bB){return bB.locked;
});
}function aQ(bA){return ad(bA,function(bB){return !bB.locked;
});
}function bx(bA){return ad(bA,function(bB){return !bB.locked&&aB(bB);
});
}function bw(bA){return ad(bA,function(bB){return bB.locked&&aB(bB);
});
}function bv(bA){var bC=[];
for(var bB=0;
bB<bA.length;
bB++){if(bA[bB].hidden){continue;
}if(bA[bB].columns){bC=bC.concat(bv(bA[bB].columns));
}else{bC.push(bA[bB]);
}}return bC;
}function aE(bA){var bC=[];
for(var bB=0;
bB<bA.length;
bB++){if(!bA[bB].columns){bC.push(bA[bB]);
continue;
}bC=bC.concat(aE(bA[bB].columns));
}return bC;
}function aF(bB){var bE=bB.find(">tr:not(.k-filter-row)");
var bC=function(){var bF=b(this);
return !bF.hasClass("k-group-cell")&&!bF.hasClass("k-hierarchy-cell");
};
var bA=b();
if(bE.length>1){bA=bE.find("th").filter(bC).filter(function(){return this.rowSpan>1;
});
}bA=bA.add(bE.last().find("th").filter(bC));
var bD=aC.attr("index");
bA.sort(function(bF,bG){bF=b(bF);
bG=b(bG);
var bH=bF.attr(bD);
var bI=bG.attr(bD);
if(bH===bp){bH=b(bF).index();
}if(bI===bp){bI=b(bG).index();
}bH=parseInt(bH,10);
bI=parseInt(bI,10);
return bH>bI?1:bH<bI?-1:0;
});
return bA;
}function aZ(bA){var bB=bA.closest("table");
var bL=b().add(bA);
var bM=bA.closest("tr");
var bC=bB.find("tr:not(.k-filter-row)");
var bF=bC.index(bM);
if(bF>0){var bH=bC.eq(bF-1);
var bJ=bH.find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return !b(this).attr("rowspan");
});
var bG=0;
var bE=bM.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(bA);
var bK=bA.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return this.colSpan>1;
});
for(var bD=0;
bD<bK.length;
bD++){bG+=bK[bD].colSpan||1;
}bE+=Math.max(bG-1,0);
bG=0;
for(bD=0;
bD<bJ.length;
bD++){var bI=bJ.eq(bD);
if(bI.attr("colSpan")){bG+=bI[0].colSpan;
}else{bG+=1;
}if(bE>=bD&&bE<bG){bL=aZ(bI).add(bL);
break;
}}}return bL;
}function l(bA){var bF=bA.closest("thead");
var bL=b().add(bA);
var bM=bA.closest("tr");
var bG=bF.find("tr:not(.k-filter-row)");
var bI=bG.index(bM)+bA[0].rowSpan;
var bE=aC.attr("colspan");
if(bI<=bG.length-1){var bC=bM.next();
var bK=bA.prevAll(":not(.k-group-cell,.k-hierarchy-cell)");
var bH;
bK=bK.filter(function(){return !this.rowSpan||this.rowSpan===1;
});
var bJ=0;
for(bH=0;
bH<bK.length;
bH++){bJ+=parseInt(bK.eq(bH).attr(bE),10)||1;
}var bB=bC.find("th:not(.k-group-cell,.k-hierarchy-cell)");
var bD=parseInt(bA.attr(bE),10)||1;
bH=0;
while(bH<bD){bC=bB.eq(bH+bJ);
bL=bL.add(l(bC));
var bN=parseInt(bC.attr(bE),10);
if(bN>1){bD-=bN-1;
}bH++;
}}return bL;
}function g(bE,bD,bB,bA){var bC,bF=bE;
if(bA){bE.empty();
}if(bl){bE[0].innerHTML=bB;
}else{bC=document.createElement("div");
bC.innerHTML="<table><tbody>"+bB+"</tbody></table>";
bE=bC.firstChild.firstChild;
bD[0].replaceChild(bE,bF[0]);
bE=b(bE);
}return bE;
}function d(bA){bA=bA||{};
var bB=bA.style;
if(!bB){bB="display:none";
}else{bB=bB.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none");
if(bB===bA.style){bB=bB.replace(/(.*)?/i,"display:none;$1");
}}return P({},bA,{style:bB});
}function a5(bA){bA=bA||{};
var bB=bA.style;
if(bB){bA.style=bB.replace(/(display\s*:\s*none\s*;?)*/gi,"");
}return bA;
}function aT(bE,bF,bD,bC){var bA=bE.find(">colgroup"),bG,bB=aH(bF,function(bH){bG=bH.width;
if(bG&&parseInt(bG,10)!==0){return aC.format('<col style="width:{0}"/>',typeof bG===bf?bG:bG+"px");
}return"<col />";
});
if(bD||bA.find(".k-hierarchy-col").length){bB.splice(0,0,'<col class="k-hierarchy-col" />');
}if(bA.length){bA.remove();
}bA=b(new Array(bC+1).join('<col class="k-group-col">')+bB.join(""));
if(!bA.is("colgroup")){bA=b("<colgroup/>").append(bA);
}bE.prepend(bA);
if(i.msie&&i.version==8){bE.css("display","inline-table");
window.setTimeout(function(){bE.css("display","");
},1);
}}function aV(bB,bA){var bD=0;
var bC,bE;
var bF=bB.find("th:not(.k-group-cell)");
for(bC=0,bE=bA.length;
bC<bE;
bC++){if(bA[bC].locked){bF.eq(bC).insertBefore(bF.eq(bD));
bF=bB.find("th:not(.k-group-cell)");
bD++;
}}}function B(bA){var bE={},bC,bB,bD;
for(bB=0,bD=bA.length;
bB<bD;
bB++){bC=bA[bB];
bE[bC.value]=bC.text;
}return bE;
}function Z(bF,bC,bA,bB){var bE=bA&&bA.length&&az(bA[0])&&"value" in bA[0],bD=bE?B(bA)[bF]:bF;
bD=bD!=null?bD:"";
return bC?aC.format(bC,bD):bB===false?bD:aC.htmlEncode(bD);
}function bc(bB,bC,bF){var bD=0,bE,bA=bB[bD];
while(bA){bE=bF?true:bA.style.display!=="none";
if(bE&&!aP.test(bA.className)&&--bC<0){bA.style.display=bF?"":"none";
break;
}bA=bB[++bD];
}}function an(bF,bB){var bC=0,bD=bF.length,bA,bE;
for(;
bC<bD;
bC+=1){bE=bF.eq(bC);
if(bE.is(".k-grouping-row,.k-detail-row")){bA=bE.children(":not(.k-group-cell):first,.k-detail-cell").last();
bA.attr("colspan",parseInt(bA.attr("colspan"),10)-1);
}else{if(bE.hasClass("k-grid-edit-row")&&(bA=bE.children(".k-edit-container")[0])){bA=b(bA);
bA.attr("colspan",parseInt(bA.attr("colspan"),10)-1);
bA.find("col").eq(bB).remove();
bE=bA.find("tr:first");
}bc(bE[0].cells,bB,false);
}}}function aj(bA){var bD=[];
var bC;
for(var bB=0;
bB<bA.length;
bB++){bC=bA[bB];
if(!("field" in bC&&"value" in bC&&"items" in bC)){break;
}bD.push(bC);
if(bC.hasSubgroups){bD=bD.concat(aj(bC.items));
}}return bD;
}function ag(bA){var bD=[];
var bC;
for(var bB=0;
bB<bA.length;
bB++){bC=bA[bB];
if(!("field" in bC&&"value" in bC&&"items" in bC)){break;
}if(bC.hasSubgroups){bD=bD.concat(ag(bC.items));
}bD.push(bC.aggregates);
}return bD;
}function be(bG,bB){var bD=0,bE=bG.length,bA,bF,bC;
for(;
bD<bE;
bD+=1){bF=bG.eq(bD);
if(bF.is(".k-grouping-row,.k-detail-row")){bA=bF.children(":not(.k-group-cell):first,.k-detail-cell").last();
bA.attr("colspan",parseInt(bA.attr("colspan"),10)+1);
}else{if(bF.hasClass("k-grid-edit-row")&&(bA=bF.children(".k-edit-container")[0])){bA=b(bA);
bA.attr("colspan",parseInt(bA.attr("colspan"),10)+1);
aT(bA.find(">form>table"),bu(bC),false,0);
bF=bA.find("tr:first");
}bc(bF[0].cells,bB,true);
}}}function bs(bE,bF,bD){bD=bD||1;
var bB,bA,bC;
for(bA=0,bC=bE.length;
bA<bC;
bA++){bB=bE.eq(bA).children().last();
bB.attr("colspan",parseInt(bB.attr("colspan"),10)+bD);
bB=bF.eq(bA).children().last();
bB.attr("colspan",parseInt(bB.attr("colspan"),10)-bD);
}}function bk(bD){var bB,bC,bE=0;
var bA=bD.find(">colgroup>col");
for(bB=0,bC=bA.length;
bB<bC;
bB+=1){bE+=parseInt(bA[bB].style.width,10);
}return bE;
}var ae=aC.ui.DataBoundWidget.extend({init:function(bA,bC,bB){var bD=this;
bC=ap(bC)?{dataSource:bC}:bC;
bz.fn.init.call(bD,bA,bC);
if(bB){bD._events=bB;
}aA=aC.support.isRtl(bA);
bD._element();
bD._aria();
bD._columns(bD.options.columns);
bD._dataSource();
bD._tbody();
bD._pageable();
bD._thead();
bD._groupable();
bD._toolbar();
bD._setContentHeight();
bD._templates();
bD._navigatable();
bD._selectable();
bD._clipboard();
bD._details();
bD._editable();
bD._attachCustomCommandsEvent();
bD._minScreenSupport();
if(bD.options.autoBind){bD.dataSource.fetch();
}else{bD._group=bD._groups()>0;
bD._footer();
}if(bD.lockedContent){bD.wrapper.addClass("k-grid-lockedcolumns");
bD._resizeHandler=function(){bD.resize();
};
b(window).on("resize"+aW,bD._resizeHandler);
}aC.notify(bD);
},events:[k,"dataBinding","cancel",E,K,J,L,Q,p,M,a8,a3,a9,u,t,v,n,o,x,aN,"page","sort","filter","group"],setDataSource:function(bA){var bC=this;
var bB=bC.options.scrollable;
bC.options.dataSource=bA;
bC._dataSource();
bC._pageable();
bC._thead();
if(bB){if(bB.virtual){bC.content.find(">.k-virtual-scrollable-wrap").scrollLeft(0);
}else{bC.content.scrollLeft(0);
}}if(bC.options.groupable){bC._groupable();
}if(bC.virtualScrollable){bC.virtualScrollable.setDataSource(bC.options.dataSource);
}if(bC.options.navigatable){bC._navigatable();
}if(bC.options.selectable){bC._selectable();
}if(bC.options.autoBind){bA.fetch();
}},options:{name:"Grid",columns:[],toolbar:null,autoBind:true,filterable:false,scrollable:true,sortable:false,selectable:false,allowCopy:false,navigatable:false,pageable:false,editable:false,groupable:false,rowTemplate:"",altRowTemplate:"",noRecords:false,dataSource:{},height:null,resizable:false,reorderable:false,columnMenu:false,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:j,confirmation:H,confirmDelete:A},commands:{create:G.create.text,cancel:G.cancel.text,save:G.save.text,destroy:G.destroy.text,edit:G.edit.text,update:G.update.text,canceledit:G.canceledit.text,excel:G.excel.text,pdf:G.pdf.text},noRecords:aR}},destroy:function(){var bB=this,bA;
bB._angularItems("cleanup");
bB._destroyColumnAttachments();
bz.fn.destroy.call(bB);
this._navigatableTables=null;
if(bB._resizeHandler){b(window).off("resize"+aW,bB._resizeHandler);
}if(bB.pager&&bB.pager.element){bB.pager.destroy();
}bB.pager=null;
if(bB.groupable&&bB.groupable.element){bB.groupable.element.kendoGroupable("destroy");
}bB.groupable=null;
if(bB.options.reorderable){bB.wrapper.data("kendoReorderable").destroy();
}if(bB.selectable&&bB.selectable.element){bB.selectable.destroy();
bB.clearArea();
if(bB.copyHandler){bB.wrapper.off("keydown",bB.copyHandler);
bB.unbind(bB.copyHandler);
}if(bB.updateClipBoardState){bB.unbind(bB.updateClipBoardState);
bB.updateClipBoardState=null;
}if(bB.clearAreaHandler){bB.wrapper.off("keyup",bB.clearAreaHandler);
}}bB.selectable=null;
if(bB.resizable){bB.resizable.destroy();
if(bB._resizeUserEvents){if(bB._resizeHandleDocumentClickHandler){b(document).off("click",bB._resizeHandleDocumentClickHandler);
}bB._resizeUserEvents.destroy();
bB._resizeUserEvents=null;
}bB.resizable=null;
}if(bB.virtualScrollable&&bB.virtualScrollable.element){bB.virtualScrollable.destroy();
}bB.virtualScrollable=null;
bB._destroyEditable();
if(bB.dataSource){bB.dataSource.unbind(k,bB._refreshHandler).unbind(a0,bB._progressHandler).unbind(O,bB._errorHandler);
bB._refreshHandler=bB._progressHandler=bB._errorHandler=null;
}bA=bB.element.add(bB.wrapper).add(bB.table).add(bB.thead).add(bB.wrapper.find(">.k-grid-toolbar"));
if(bB.content){bA=bA.add(bB.content).add(bB.content.find(">.k-virtual-scrollable-wrap"));
}if(bB.lockedHeader){bB._removeLockedContainers();
}if(bB.pane){bB.pane.destroy();
}if(bB.minScreenResizeHandler){b(window).off("resize",bB.minScreenResizeHandler);
}if(bB._draggableInstance&&bB._draggableInstance.element){bB._draggableInstance.destroy();
}bB._draggableInstance=null;
bA.off(aW);
aC.destroy(bB.wrapper);
bB.rowTemplate=bB.altRowTemplate=bB.lockedRowTemplate=bB.lockedAltRowTemplate=bB.detailTemplate=bB.footerTemplate=bB.groupFooterTemplate=bB.lockedGroupFooterTemplate=bB.noRecordsTemplate=null;
bB.scrollables=bB.thead=bB.tbody=bB.element=bB.table=bB.content=bB.footer=bB.wrapper=bB.lockedTable=bB.lockedContent=bB.lockedHeader=bB.lockedFooter=bB._groupableClickHandler=bB._setContentWidthHandler=null;
},getOptions:function(){var bC=this.options;
bC.dataSource=null;
var bD=P(true,{},this.options);
bD.columns=aC.deepExtend([],this.columns);
var bA=this.dataSource;
var bB=bA.options.data&&bA._data;
bA.options.data=null;
bD.dataSource=b.extend(true,{},bA.options);
bA.options.data=bB;
bD.dataSource.data=bB;
bD.dataSource.page=bA.page();
bD.dataSource.filter=bA.filter();
bD.dataSource.pageSize=bA.pageSize();
bD.dataSource.sort=bA.sort();
bD.dataSource.group=bA.group();
bD.dataSource.aggregate=bA.aggregate();
if(bD.dataSource.transport){bD.dataSource.transport.dataSource=null;
}if(bD.pageable&&bD.pageable.pageSize){bD.pageable.pageSize=bA.pageSize();
}bD.$angular=bp;
return bD;
},setOptions:function(bE){var bA=this.getOptions();
aC.deepExtend(bA,bE);
if(!bE.dataSource){bA.dataSource=this.dataSource;
}var bF=this.wrapper;
var bC=this._events;
var bB=this.element;
this.destroy();
this.options=null;
if(this._isMobile){var bD=bF.closest(aC.roleSelector("pane")).parent();
bD.after(bF);
bD.remove();
bF.removeClass("k-grid-mobile");
}if(bF[0]!==bB[0]){bF.before(bB);
bF.remove();
}bB.empty();
this.init(bB,bA,bC);
this._setEvents(bA);
},items:function(){if(this.lockedContent){return this._items(this.tbody).add(this._items(this.lockedTable.children("tbody")));
}else{return this._items(this.tbody);
}},_items:function(bA){return bA.children().filter(function(){var bB=b(this);
return !bB.hasClass("k-grouping-row")&&!bB.hasClass("k-detail-row")&&!bB.hasClass("k-group-footer");
});
},dataItems:function(){var bA=aC.ui.DataBoundWidget.fn.dataItems.call(this);
if(this.lockedContent){var bC=bA.length,bD=new Array(2*bC);
for(var bB=bC;
--bB>=0;
){bD[bB]=bD[bB+bC]=bA[bB];
}bA=bD;
}return bA;
},_destroyColumnAttachments:function(){var bA=this;
bA.resizeHandle=null;
if(!bA.thead){return;
}this.angular("cleanup",function(){return{elements:bA.thead.get()};
});
bA.thead.add(bA.lockedHeader).find("th").each(function(){var bE=b(this),bC=bE.data("kendoFilterMenu"),bD=bE.data("kendoColumnSorter"),bB=bE.data("kendoColumnMenu");
if(bC){bC.destroy();
}if(bD){bD.destroy();
}if(bB){bB.destroy();
}});
},_attachCustomCommandsEvent:function(){var bE=this,bA=aE(bE.columns||[]),bB,bC,bD;
for(bC=0,bD=bA.length;
bC<bD;
bC++){bB=bA[bC].command;
if(bB){h(bE,bE.wrapper,bB);
}}},_aria:function(){var bA=this.element.attr("id")||"aria";
if(bA){this._cellId=bA+"_active_cell";
}},_element:function(){var bB=this,bA=bB.element;
if(!bA.is("table")){if(bB.options.scrollable){bA=bB.element.find("> .k-grid-content > table");
}else{bA=bB.element.children("table");
}if(!bA.length){bA=b("<table />").appendTo(bB.element);
}}if(av){bA.attr("cellspacing",0);
}bB.table=bA.attr("role",bB._hasDetails()?"treegrid":"grid");
bB._wrapper();
},_createResizeHandle:function(bB,bL){var bM=this;
var bH=bM.options.columnResizeHandleWidth;
var bK=bM.options.scrollable;
var bJ=bM.resizeHandle;
var bD=this._groups();
var bI;
if(bJ&&bM.lockedContent&&bJ.data("th")[0]!==bL[0]){bJ.off(aW).remove();
bJ=null;
}if(!bJ){bJ=bM.resizeHandle=b('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>');
bB.append(bJ);
}if(!aA){bI=bL[0].offsetWidth;
var bA=aF(bL.closest("thead")).filter(":visible");
for(var bF=0;
bF<bA.length;
bF++){if(bA[bF]==bL[0]){break;
}bI+=bA[bF].offsetWidth;
}if(bD>0){bI+=aY(bB.find(".k-group-cell:first"))*bD;
}if(bM._hasDetails()){bI+=aY(bB.find(".k-hierarchy-cell:first"));
}}else{bI=bL.position().left;
if(bK){var bE=bL.closest(".k-grid-header-wrap, .k-grid-header-locked"),bG=i.msie?bE.scrollLeft():0,bN=i.webkit?bE[0].scrollWidth-bE[0].offsetWidth-bE.scrollLeft():0,bC=i.mozilla?bE[0].scrollWidth-bE[0].offsetWidth-(bE[0].scrollWidth-bE[0].offsetWidth-bE.scrollLeft()):0;
bI-=bN-bC+bG;
}}bJ.css({top:bL.position().top,left:bI-bH,height:aX(bL),width:bH*3}).data("th",bL).show();
bJ.off("dblclick"+aW).on("dblclick"+aW,function(){bM._autoFitLeafColumn(bL.data("index"));
});
},_positionColumnResizeHandle:function(){var bC=this,bA=bC.options.columnResizeHandleWidth,bB=bC.lockedHeader?bC.lockedHeader.find("thead:first"):b();
bC.thead.add(bB).on("mousemove"+aW,"th",function(bE){var bH=b(this);
if(bH.hasClass("k-group-cell")||bH.hasClass("k-hierarchy-cell")){return;
}function bF(){var bK=parseFloat(b(document.documentElement).css("zoom"));
if(isNaN(bK)){bK=1;
}var bJ=parseFloat(b(document.body).css("zoom"));
if(isNaN(bJ)){bJ=1;
}return bK*bJ;
}var bD=bE.clientX/bF(),bI=b(window).scrollLeft(),bG=bH.offset().left+(!aA?this.offsetWidth:0);
if(bD+bI>bG-bA&&bD+bI<bG+bA){bC._createResizeHandle(bH.closest("div"),bH);
}else{if(bC.resizeHandle){bC.resizeHandle.hide();
}else{C(bC.wrapper,"");
}}});
},_resizeHandleDocumentClick:function(bA){if(b(bA.target).closest(".k-column-active").length){return;
}b(document).off(bA);
this._hideResizeHandle();
},_hideResizeHandle:function(){if(this.resizeHandle){this.resizeHandle.data("th").removeClass("k-column-active");
if(this.lockedContent&&!this._isMobile){this.resizeHandle.off(aW).remove();
this.resizeHandle=null;
}else{this.resizeHandle.hide();
}}},_positionColumnResizeHandleTouch:function(){var bB=this,bA=bB.lockedHeader?bB.lockedHeader.find("thead:first"):b();
bB._resizeUserEvents=new aC.UserEvents(bA.add(bB.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function(bC){var bD=b(bC.target);
bC.preventDefault();
bD.addClass("k-column-active");
bB._createResizeHandle(bD.closest("div"),bD);
if(!bB._resizeHandleDocumentClickHandler){bB._resizeHandleDocumentClickHandler=a1(bB._resizeHandleDocumentClick,bB);
}b(document).on("click",bB._resizeHandleDocumentClickHandler);
}});
},_resizable:function(){var bL=this,bI=bL.options,bE,bC,bD,bB,bF,bH=this._isMobile,bJ=!aC.support.mobileOS?aC.support.scrollbar():0,bG,bA,bK;
if(bI.resizable){bE=bI.scrollable?bL.wrapper.find(".k-grid-header-wrap:first"):bL.wrapper;
if(bH){bL._positionColumnResizeHandleTouch(bE);
}else{bL._positionColumnResizeHandle(bE);
}if(bL.resizable){bL.resizable.destroy();
}bL.resizable=new bo.Resizable(bE.add(bL.lockedHeader),{handle:(!!bI.scrollable?"":">")+".k-resize-handle",hint:function(bM){return b('<div class="k-grid-resize-indicator" />').css({height:aX(bM.data("th"))+bL.tbody.attr("clientHeight")});
},start:function(bN){bK=b(bN.currentTarget).data("th");
if(bH){bL._hideResizeHandle();
}var bP=bK.closest("table"),bQ=b.inArray(bK[0],aF(bK.closest("thead")).filter(":visible"));
bG=bP.parent().hasClass("k-grid-header-locked");
var bM=bG?bL.lockedTable:bL.table,bO=bL.footer||b();
if(bL.footer&&bL.lockedContent){bO=bG?bL.footer.children(".k-grid-footer-locked"):bL.footer.children(".k-grid-footer-wrap");
}C(bL.wrapper,"col-resize");
if(bI.scrollable){bA=bP.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bQ+")").add(bM.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bQ+")")).add(bO.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bQ+")"));
}else{bA=bM.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bQ+")");
}bC=bN.x.location;
bD=aY(bK);
bB=bL.columns[bQ].minResizableWidth||10;
bF=bG?aY(bM.children("tbody")):aY(bL.tbody);
if(i.webkit){bL.wrapper.addClass("k-grid-column-resizing");
}},resize:function(bP){var bS=aA?-1:1,bO=bD+bP.x.location*bS-bC*bS;
if(bI.scrollable){var bQ;
if(bG&&bL.lockedFooter){bQ=bL.lockedFooter.children("table");
}else{if(bL.footer){bQ=bL.footer.find(">.k-grid-footer-wrap>table");
}}if(!bQ||!bQ[0]){bQ=b();
}var bR=bK.closest("table");
var bN=bG?bL.lockedTable:bL.table;
var bM=false;
var bT=bL.wrapper.width()-bJ;
var bU=bO;
if(bG&&bF-bD+bU>bT){bU=bD+(bT-bF-bJ*2);
if(bU<0){bU=bO;
}bM=true;
}if(bU>10&&bU>=bB){bA.css("width",bU);
if(bF){if(bM){bU=bT-bJ*2;
}else{bU=bF+bP.x.location*bS-bC*bS;
}bN.add(bR).add(bQ).css("width",bU);
if(!bG){bL._footerWidth=bU;
}}}}else{if(bO>10&&bO>=bB){bA.css("width",bO);
}}},resizeend:function(){var bP=aY(bK),bM,bN;
C(bL.wrapper,"");
if(i.webkit){bL.wrapper.removeClass("k-grid-column-resizing");
}if(bD!=bP){bN=bL.lockedHeader?bL.lockedHeader.find("thead:first tr:first").add(bL.thead.find("tr:first")):bK.parent();
var bO=bK.attr(aC.attr("index"));
if(!bO){bO=bN.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(bK);
}bM=aE(bL.columns)[bO];
bM.width=bP;
bL.trigger(u,{column:bM,oldWidth:bD,newWidth:bP});
bL._applyLockedContainersWidth();
bL._syncLockedContentHeight();
bL._syncLockedHeaderHeight();
}bL._hideResizeHandle();
bK=null;
}});
}},_draggable:function(){var bB=this;
if(bB.options.reorderable){if(bB._draggableInstance){bB._draggableInstance.destroy();
}var bA=bB.wrapper.children(".k-grid-header");
bB._draggableInstance=bB.wrapper.kendoDraggable({group:aC.guid(),autoScroll:true,filter:bB.content?".k-grid-header:first "+ak:"table:first>.k-grid-header "+ak,dragstart:function(){bA.children(".k-grid-header-wrap").unbind("scroll"+aW+"scrolling").bind("scroll"+aW+"scrolling",function(bC){if(bB.virtualScrollable){bB.content.find(">.k-virtual-scrollable-wrap").scrollLeft(this.scrollLeft);
}else{bB.scrollables.not(bC.currentTarget).scrollLeft(this.scrollLeft);
}});
},dragend:function(){bA.children(".k-grid-header-wrap").unbind("scroll"+aW+"scrolling");
},drag:function(){bB._hideResizeHandle();
},hint:function(bC){var bD=bC.attr(aC.attr("title"));
if(bD){bD=aC.htmlEncode(bD);
}return b('<div class="k-header k-drag-clue" />').css({width:bC.width(),paddingLeft:bC.css("paddingLeft"),paddingRight:bC.css("paddingRight"),lineHeight:bC.height()+"px",paddingTop:bC.css("paddingTop"),paddingBottom:bC.css("paddingBottom")}).html(bD||bC.attr(aC.attr("field"))||bC.text()).prepend('<span class="k-icon k-drag-status k-i-cancel" />');
}}).data("kendoDraggable");
}},_reorderable:function(){var bB=this;
if(bB.options.reorderable){if(bB.wrapper.data("kendoReorderable")){bB.wrapper.data("kendoReorderable").destroy();
}var bA=function(bD,bF,bH){var bC=bD[bF];
var bG=bD[bH];
var bE=q(bC,bB.columns);
bD=bE?bE.columns:bB.columns;
return ao(bG,bD);
};
bB.wrapper.kendoReorderable({draggable:bB._draggableInstance,dragOverContainers:function(bD,bE){var bC=W(bB.columns);
return bC[bD].lockable!==false&&bA(bC,bD,bE)>-1;
},inSameContainer:function(bC){return b(bC.source).parent()[0]===b(bC.target).parent()[0]&&bA(W(bB.columns),bC.sourceIndex,bC.targetIndex)>-1;
},change:function(bE){var bD=W(bB.columns);
var bC=bD[bE.oldIndex];
var bF=bA(bD,bE.oldIndex,bE.newIndex);
bB.trigger(t,{newIndex:bF,oldIndex:ao(bC,bD),column:bC});
bB.reorderColumn(bF,bC,bE.position==="before");
}});
}},_reorderHeader:function(bG,bH,bA){var bJ=this;
var bF=s(bG[0],bJ.columns);
var bB=s(bH,bJ.columns);
var bD=[];
for(var bC=0;
bC<bG.length;
bC++){if(bG[bC].columns){bD=bD.concat(bG[bC].columns);
}}var bK=N(bJ.lockedHeader,bJ.thead,"tr:eq("+bF.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)");
var bE=aG(bG).length;
var bI=aG([bH]).length;
if(bD.length){if(bE>0&&bI===0){aL(bG,bH,bD,bJ.columns,bJ.lockedHeader.find("thead"),bJ.thead,this._groups());
}else{if(bE===0&&bI>0){aL(bG,bH,bD,bJ.columns,bJ.thead,bJ.lockedHeader.find("thead"),this._groups());
}}if(bH.columns||bF.cell-bB.cell>1||bB.cell-bF.cell>1){bH=T(bJ.columns,bH,bG[0],bA);
if(bH){bJ._reorderHeader(bD,bH,bA);
}}}else{if(bE!==bI){br(bK[bF.cell],bJ.columns,bE);
}}a7(bK,bF.cell,bB.cell,bA,bG.length);
},_reorderContent:function(bQ,bD,bA){var bR=this;
var bM=b();
var bO=bQ[0];
var bS=bu(bQ);
var bP=ao(bO,aE(bR.columns));
var bE=ao(bD,aE(bR.columns));
var bC=ao(bO,bv(bR.columns));
var bB=ao(bD,bv(bR.columns));
var bL=aG(bR.columns).length;
var bJ=!!bD.locked;
var bF=bR.footer||bR.wrapper.find(".k-grid-footer");
var bH,bG;
bH=bG=bB;
if(bD.hidden){if(bJ){bB=bR.lockedTable.find("colgroup");
bH=bR.lockedHeader.find("colgroup");
bG=b(bR.lockedFooter).find(">table>colgroup");
}else{bB=bR.tbody.prev();
bH=bR.thead.prev();
bG=bF.find(".k-grid-footer-wrap").find(">table>colgroup");
}}if(bR._hasFilterRow()){a7(bR.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),bP,bE,bA,bQ.length);
}a7(N(bR.lockedHeader,bR.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),bC,bH,bA,bS.length);
if(bR.options.scrollable){a7(N(bR.lockedTable,bR.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),bC,bB,bA,bS.length);
}if(bF&&bF.length){a7(N(bR.lockedFooter,bF.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),bC,bG,bA,bS.length);
a7(bF.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),bP,bE,bA,bQ.length);
}var bN=bR.tbody.children(":not(.k-grouping-row,.k-detail-row)");
if(bR.lockedTable){if(bL>bE){if(bL<=bP){bs(bR.lockedTable.find(">tbody>tr.k-grouping-row"),bR.table.find(">tbody>tr.k-grouping-row"),bQ.length);
}}else{if(bL>bP){bs(bR.table.find(">tbody>tr.k-grouping-row"),bR.lockedTable.find(">tbody>tr.k-grouping-row"),bQ.length);
}}bM=bR.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)");
}for(var bI=0,bK=bN.length;
bI<bK;
bI+=1){a7(N(bM[bI],bN[bI],">td:not(.k-group-cell,.k-hierarchy-cell)"),bP,bE,bA,bQ.length);
}},_autoFitLeafColumn:function(bA){this.autoFitColumn(aE(this.columns)[bA]);
},autoFitColumn:function(bC){var bX=this,bT=bX.options,bD=bX.columns,bL,bW,bJ,bM,bZ=bX.lockedHeader?aF(bX.lockedHeader.find(">table>thead")).filter(aq).length:0,bA,bF,bU,bQ="col:not(.k-group-col):not(.k-hierarchy-col)",bR="td:visible:not(.k-group-cell):not(.k-hierarchy-cell)";
if(typeof bC=="number"){bC=bD[bC];
}else{if(az(bC)){bC=ad(V(bD),function(b0){return b0===bC;
})[0];
}else{bC=ad(V(bD),function(b0){return b0.field===bC;
})[0];
}}if(!bC||!aB(bC)){return;
}bL=ao(bC,aE(bD));
bM=bC.locked;
if(bM){bJ=bX.lockedHeader.children("table");
}else{bJ=bX.thead.parent();
}bW=bJ.find("[data-index='"+bL+"']");
var bG=bM?bX.lockedTable:bX.table,bH=bX.footer||b();
if(bX.footer&&bX.lockedContent){bH=bM?bX.footer.children(".k-grid-footer-locked"):bX.footer.children(".k-grid-footer-wrap");
}var bI=bH.find("table").first();
if(bX.lockedHeader&&!bM){bL-=bZ;
}for(var bN=0;
bN<bD.length;
bN++){if(bD[bN]===bC){break;
}else{if(bD[bN].hidden){bL--;
}}}if(bT.scrollable){bA=bJ.find(bQ).eq(bL).add(bG.children("colgroup").find(bQ).eq(bL)).add(bI.find("colgroup").find(bQ).eq(bL));
if(!bM){bF=bG.parent();
bU=bF.scrollLeft();
}}else{bA=bG.children("colgroup").find(bQ).eq(bL);
}var bV=bJ.add(bG).add(bI);
var bS=aY(bW);
bA.width("");
bV.css("table-layout","fixed");
bA.width("auto");
bV.addClass("k-autofitting");
bV.css("table-layout","");
var bP=Math.ceil(Math.max(aY(bW),aY(bG.find("tr:not(.k-grouping-row)").eq(0).children(bR).eq(bL)),aY(bI.find("tr").eq(0).children(bR).eq(bL))))+1;
bA.width(bP);
bC.width=bP;
if(bT.scrollable){var bB=bJ.find("col"),bE,bY=0;
for(var bK=0,bO=bB.length;
bK<bO;
bK+=1){bE=bB[bK].style.width;
if(bE&&bE.indexOf("%")==-1){bY+=parseInt(bE,10);
}else{bY=0;
break;
}}if(bY){bV.each(function(){this.style.width=bY+"px";
});
}}if(i.msie&&i.version==8){bV.css("display","inline-table");
setTimeout(function(){bV.css("display","table");
},1);
}bV.removeClass("k-autofitting");
if(bU){bF.scrollLeft(bU);
}bX.trigger(u,{column:bC,oldWidth:bS,newWidth:bP});
bX._applyLockedContainersWidth();
bX._syncLockedContentHeight();
bX._syncLockedHeaderHeight();
},reorderColumn:function(bE,bB,bA){var bL=this,bI=q(bB,bL.columns),bC=bI?bI.columns:bL.columns,bK=ao(bB,bC),bD=bC[bE],bG,bF=!!bD.locked,bH=aG(bL.columns).length;
if(bK===bE){return;
}if(!bB.locked&&bF&&aQ(bL.columns).length==1){return;
}if(bB.locked&&!bF&&bH==1){return;
}bL._hideResizeHandle();
if(bA===bp){bA=bE<bK;
}var bJ=[bB];
bL._reorderHeader(bJ,bD,bA);
if(bL.lockedHeader){a4(bL.thead);
a4(bL.lockedHeader);
}if(bD.columns){bD=aE(bD.columns);
bD=bD[bA?0:bD.length-1];
}if(bB.columns){bJ=aE(bB.columns);
}bL._reorderContent(bJ,bD,bA);
bG=!!bB.locked;
bG=bG!=bF;
bB.locked=bF;
bC.splice(bA?bE:bE+1,0,bB);
bC.splice(bK<bE?bK:bK+1,1);
bL._templates();
bL._updateColumnCellIndex();
bL._updateTablesWidth();
bL._applyLockedContainersWidth();
bL._syncLockedHeaderHeight();
bL._syncLockedContentHeight();
bL._updateFirstColumnClass();
if(!bG){return;
}if(bF){bL.trigger(o,{column:bB});
}else{bL.trigger(x,{column:bB});
}},_updateColumnCellIndex:function(){var bA;
var bB=0;
if(this.lockedHeader){bA=this.lockedHeader.find("thead");
bB=bq(bA,aG(this.columns));
}bq(this.thead,aQ(this.columns),bB);
},lockColumn:function(bA){var bB=this.columns;
if(typeof bA=="number"){bA=bB[bA];
}else{bA=ad(bB,function(bD){return bD.field===bA;
})[0];
}if(!bA||bA.locked||bA.hidden){return;
}var bC=aG(bB).length-1;
this.reorderColumn(bC,bA,false);
},unlockColumn:function(bA){var bB=this.columns;
if(typeof bA=="number"){bA=bB[bA];
}else{bA=ad(bB,function(bD){return bD.field===bA;
})[0];
}if(!bA||!bA.locked||bA.hidden){return;
}var bC=aG(bB).length;
this.reorderColumn(bC,bA,true);
},cellIndex:function(bB){var bA=0;
if(this.lockedTable&&!b.contains(this.lockedTable[0],bB[0])){bA=aE(aG(this.columns)).length;
}return b(bB).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(bB)+bA;
},_modelForContainer:function(bA){bA=b(bA);
if(!bA.is("tr")&&this._editMode()!=="popup"){bA=bA.closest("tr");
}var bB=bA.attr(aC.attr("uid"));
return this.dataSource.getByUid(bB);
},_editable:function(){var bE=this,bD=bE.selectable&&bE.selectable.options.multiple,bA=bE.options.editable,bB=function(){var bG=c(),bF=bE._editContainer;
if(bF&&!b.contains(bF[0],bG)&&bF[0]!==bG&&!b(bG).closest(".k-animation-container").length){if(bE.editable.end()){bE.closeCell();
}}};
if(bA){this.wrapper.addClass("k-editable");
var bC=bE._editMode();
if(bC==="incell"){if(bA.update!==false){bE.wrapper.on(m+aW,"tr:not(.k-grouping-row) > td",function(bF){var bH=b(this),bG=bE.lockedTable&&bH.closest("table")[0]===bE.lockedTable[0];
if(bH.hasClass("k-hierarchy-cell")||bH.hasClass("k-detail-cell")||bH.hasClass("k-group-cell")||bH.hasClass("k-edit-cell")||bH.has("a.k-grid-delete").length||bH.has("button.k-grid-delete").length||bH.closest("tbody")[0]!==bE.tbody[0]&&!bG||b(bF.target).is(":input")){return;
}if(bE.editable){if(bE.editable.end()){if(bD){b(c()).blur();
}bE.closeCell();
bE.editCell(bH);
}}else{bE.editCell(bH);
}}).on("focusin"+aW,function(){if(!b.contains(this,c())){clearTimeout(bE.timer);
bE.timer=null;
}}).on("focusout"+aW,function(){bE.timer=setTimeout(bB,1);
});
}}else{if(bA.update!==false){bE.wrapper.on(m+aW,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(bF){bF.preventDefault();
bE.editRow(b(this).closest("tr"));
});
}}if(bA.destroy!==false){bE.wrapper.on(m+aW,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(bF){bF.preventDefault();
bF.stopPropagation();
bE.removeRow(b(this).closest("tr"));
});
}else{bE.wrapper.on(m+aW,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(bF){bF.stopPropagation();
if(!bE._confirmation()){bF.preventDefault();
}});
}}},editCell:function(bA){bA=b(bA);
var bD=this,bB=aE(bD.columns)[bD.cellIndex(bA)],bC=bD._modelForContainer(bA);
bD.closeCell();
if(bC&&ar(bB,bC)&&!bB.command){bD._attachModelChange(bC);
bD._editContainer=bA;
bD.editable=bA.addClass("k-edit-cell").kendoEditable({fields:{field:bB.field,format:bB.format,editor:bB.editor,values:bB.values},model:bC,target:bD,change:function(bF){if(bD.trigger(a8,{values:bF.values,container:bA,model:bC})){bF.preventDefault();
}}}).data("kendoEditable");
var bE=bA.parent().addClass("k-grid-edit-row");
if(bD.lockedContent){f(bE[0],bD._relatedRow(bE).addClass("k-grid-edit-row")[0]);
}bD.trigger(M,{container:bA,model:bC});
}},_adjustLockedHorizontalScrollBar:function(){var bC=this.table,bA=bC.parent();
var bB=bC[0].offsetWidth>bA[0].clientWidth?aC.support.scrollbar():0;
this.lockedContent.height(bA.height()-bB);
},_syncLockedContentHeight:function(){if(this.lockedTable){if(!this.touchScroller){this._adjustLockedHorizontalScrollBar();
}this._adjustRowsHeight(this.table,this.lockedTable);
}},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var bA=this.lockedHeader.children("table");
var bB=this.thead.parent();
this._adjustRowsHeight(bA,bB);
bh(bA,bB);
}},_syncLockedFooterHeight:function(){if(this.lockedFooter&&this.footer&&this.footer.length){this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"));
}},_destroyEditable:function(){var bB=this;
var bA=function(){if(bB.editable){var bC=bB.editView?bB.editView.element:bB._editContainer;
if(bC){bC.off(m+aW,"a.k-grid-cancel",bB._editCancelClickHandler);
bC.off(m+aW,"a.k-grid-update",bB._editUpdateClickHandler);
}bB._detachModelChange();
bB.editable.destroy();
bB.editable=null;
bB._editContainer=null;
bB._destroyEditView();
}};
if(bB.editable){if(bB._editMode()==="popup"&&!bB._isMobile){bB._editContainer.data("kendoWindow").bind("deactivate",bA).close();
}else{bA();
}}if(bB._actionSheet){bB._actionSheet.destroy();
bB._actionSheet=null;
}},_destroyEditView:function(){if(this.editView){this.editView.purge();
this.editView=null;
this.pane.navigate("");
}},_attachModelChange:function(bA){var bB=this;
bB._modelChangeHandler=function(bC){bB._modelChange({field:bC.field,model:this});
};
bA.bind("change",bB._modelChangeHandler);
},_detachModelChange:function(){var bC=this,bA=bC._editContainer,bB=bC._modelForContainer(bA);
if(bB){bB.unbind(k,bC._modelChangeHandler);
}},closeCell:function(bD){var bF=this,bA=bF._editContainer,bC,bB,bG,bE;
if(!bA){return;
}bC=bA.closest("tr").attr(aC.attr("uid"));
bE=bF.dataSource.getByUid(bC);
if(bD&&bF.trigger("cancel",{container:bA,model:bE})){return;
}bA.removeClass("k-edit-cell");
bB=aE(bF.columns)[bF.cellIndex(bA)];
bG=bA.parent().removeClass("k-grid-edit-row");
bF._destroyEditable();
bF._displayCell(bA,bB,bE);
if(bA.hasClass("k-dirty-cell")){b('<span class="k-dirty"/>').prependTo(bA);
}bF.trigger("itemChange",{item:bG,data:bE,ns:bo});
if(bF.lockedContent){f(bG.css("height","")[0],bF._relatedRow(bG).css("height","")[0]);
}},_displayCell:function(bA,bB,bC){var bF=this,bE={storage:{},count:0},bD=P({},aC.Template,bF.options.templateSettings),bG=aC.template(bF._cellTmpl(bB,bE),bD);
if(bE.count>0){bG=a1(bG,bE.storage);
}bA.empty().html(bG(bC));
bF.angular("compile",function(){return{elements:bA,data:[{dataItem:bC}]};
});
},removeRow:function(bA){if(!this._confirmation(bA)){return;
}this._removeRow(bA);
},_removeRow:function(bC){var bD=this,bB,bA=bD._editMode();
if(bA!=="incell"){bD.cancelRow();
}bC=b(bC);
if(bD.lockedContent){bC=bC.add(bD._relatedRow(bC));
}bC=bC.hide();
bB=bD._modelForContainer(bC);
if(bB&&!bD.trigger(a3,{row:bC,model:bB})){bD.dataSource.remove(bB);
if(bA==="inline"||bA==="popup"){bD.dataSource.sync();
}}else{if(bA==="incell"){bD._destroyEditable();
}}},_editMode:function(){var bB="incell",bA=this.options.editable;
if(bA!==true){if(typeof bA=="string"){bB=bA;
}else{bB=bA.mode||bB;
}}return bB;
},editRow:function(bD){var bC;
var bE=this;
if(bD instanceof aC.data.ObservableObject){bC=bD;
}else{bD=b(bD);
bC=bE._modelForContainer(bD);
}var bB=bE._editMode();
var bA;
bE.cancelRow();
if(bC){bD=bE.tbody.children("["+aC.attr("uid")+"="+bC.uid+"]");
bE._attachModelChange(bC);
if(bB==="popup"){bE._createPopupEditor(bC);
}else{if(bB==="inline"){bE._createInlineEditor(bD,bC);
}else{if(bB==="incell"){b(bD).children(D).each(function(){var bF=b(this);
var bG=aE(bE.columns)[bE.cellIndex(bF)];
bC=bE._modelForContainer(bF);
if(bC&&(!bC.editable||bC.editable(bG.field))&&bG.field){bE.editCell(bF);
return false;
}});
}}}bA=bE.editView?bE.editView.element:bE._editContainer;
if(bA){if(!this._editCancelClickHandler){this._editCancelClickHandler=a1(this._editCancelClick,this);
}bA.on(m+aW,"a.k-grid-cancel",this._editCancelClickHandler);
if(!this._editUpdateClickHandler){this._editUpdateClickHandler=a1(this._editUpdateClick,this);
}bA.on(m+aW,"a.k-grid-update",this._editUpdateClickHandler);
}}},_editUpdateClick:function(bA){bA.preventDefault();
bA.stopPropagation();
this.saveRow();
},_editCancelClick:function(bC){var bF=this;
var bE=bF.options.navigatable;
var bD=bF.editable.options.model;
var bA=bF.editView?bF.editView.element:bF._editContainer;
bC.preventDefault();
bC.stopPropagation();
if(bF.trigger("cancel",{container:bA,model:bD})){return;
}var bB=bF.items().index(b(bF.current()).parent());
bF.cancelRow();
if(bE){bF._setCurrent(bF.items().eq(bB).children().filter(aM).first());
Y(bF.table,true);
}},_createPopupEditor:function(bL){var bR=this,bI="<div "+aC.attr("uid")+'="'+bL.uid+'" class="k-popup-edit-form'+(bR._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',bC,bE,bH=[],bJ,bK,bS,bT,bB,bP,bD=aE(bR.columns),bA,bG=bR.options.editable,bQ=bG.template,bM=az(bG)?bG.window:{},bN=P({},aC.Template,bR.options.templateSettings);
bM=bM||{};
if(bQ){if(typeof bQ===bf){bQ=window.unescape(bQ);
}bI+=aC.template(bQ,bN)(bL);
for(bJ=0,bK=bD.length;
bJ<bK;
bJ++){bC=bD[bJ];
if(bC.command){bP=ac(bC.command,"edit");
if(bP){bE=bP;
}}}}else{for(bJ=0,bK=bD.length;
bJ<bK;
bJ++){bC=bD[bJ];
if(!bC.command){bI+='<div class="k-edit-label"><label for="'+bC.field+'">'+(bC.title||bC.field||"")+"</label></div>";
if(ar(bC,bL)){bH.push({field:bC.field,format:bC.format,editor:bC.editor,values:bC.values});
bI+="<div "+aC.attr("container-for")+'="'+bC.field+'" class="k-edit-field"></div>';
}else{var bO={storage:{},count:0};
bS=aC.template(bR._cellTmpl(bC,bO),bN);
if(bO.count>0){bS=a1(bS,bO.storage);
}bI+='<div class="k-edit-field">'+bS(bL)+"</div>";
}}else{if(bC.command){bP=ac(bC.command,"edit");
if(bP){bE=bP;
}}}}}if(bE){if(az(bE)){if(bE.text&&az(bE.text)){bT=bE.text.update;
bB=bE.text.cancel;
}if(bE.attr){bA=bE.attr;
}}}var bF;
if(!bR._isMobile){bI+='<div class="k-edit-buttons k-state-default">';
bI+=bR._createButton({name:"update",text:bT,attr:bA})+bR._createButton({name:"canceledit",text:bB,attr:bA});
bI+="</div></div></div>";
bF=bR._editContainer=b(bI).appendTo(bR.wrapper).eq(0).kendoWindow(P({modal:true,resizable:false,draggable:true,title:"Edit",visible:false,close:function(bV){if(bV.userTriggered){bV.sender.element.focus();
if(bR.trigger("cancel",{container:bF,model:bL})){bV.preventDefault();
return;
}var bU=bR.items().index(b(bR.current()).parent());
bR.cancelRow();
if(bR.options.navigatable){bR._setCurrent(bR.items().eq(bU).children().filter(aM).first());
Y(bR.table,true);
}}}},bM));
}else{bI+="</div></div>";
bR.editView=bR.pane.append("<div data-"+aC.ns+'role="view" data-'+aC.ns+'use-native-scrolling="true" data-'+aC.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+aC.ns+'role="header" class="k-header">'+bR._createButton({name:"update",text:bT,attr:bA})+(bM.title||"Edit")+bR._createButton({name:"canceledit",text:bB,attr:bA})+"</div>"+bI+"</div>");
bF=bR._editContainer=bR.editView.element.find(".k-popup-edit-form");
}bR.editable=bR._editContainer.kendoEditable({fields:bH,model:bL,clearContainer:false,target:bR}).data("kendoEditable");
if(bR._isMobile){bF.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){b(this).next().children("input").click();
});
}bR._openPopUpEditor();
bR.trigger(M,{container:bF,model:bL});
},_openPopUpEditor:function(){if(!this._isMobile){this._editContainer.data("kendoWindow").center().open();
}else{this.pane.navigate(this.editView,this._editAnimation);
}},_createInlineEditor:function(bF,bE){var bG=this,bB,bA,bC,bD=[];
if(bG.lockedContent){bF=bF.add(bG._relatedRow(bF));
}bF.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){bA=b(this);
bB=aE(bG.columns)[bG.cellIndex(bA)];
if(!bB.command&&ar(bB,bE)){bD.push({field:bB.field,format:bB.format,editor:bB.editor,values:bB.values});
bA.attr(aC.attr("container-for"),bB.field);
bA.empty();
}else{if(bB.command){bC=ac(bB.command,"edit");
if(bC){bA.empty();
var bJ,bI,bH;
if(az(bC)){if(bC.text&&az(bC.text)){bJ=bC.text.update;
bI=bC.text.cancel;
}if(bC.attr){bH=bC.attr;
}}b(bG._createButton({name:"update",text:bJ,attr:bH})+bG._createButton({name:"canceledit",text:bI,attr:bH})).appendTo(bA);
}}}});
bG._editContainer=bF;
bG.editable=new aC.ui.Editable(bF.addClass("k-grid-edit-row"),{target:bG,fields:bD,model:bE,clearContainer:false});
if(bF.length>1){f(bF[0],bF[1]);
bG._applyLockedContainersWidth();
}bG.trigger(M,{container:bF,model:bE});
},cancelRow:function(bC){var bD=this,bA=bD._editContainer,bB;
if(bA){bB=bD._modelForContainer(bA);
if(bC&&bD.trigger("cancel",{container:bA,model:bB})){return;
}bD._destroyEditable();
bD.dataSource.cancelChanges(bB);
if(bD._editMode()!=="popup"){bD._displayRow(bA);
}else{bD._displayRow(bD.tbody.find("["+aC.attr("uid")+"="+bB.uid+"]"));
}}},saveRow:function(){var bA=this._editContainer;
var bC=this._modelForContainer(bA);
var bB=b.Deferred();
if(!bA||!this.editable){return bB.resolve().promise();
}if(!this.editable.end()||this.trigger(a8,{container:bA,model:bC})){return bB.reject().promise();
}return this.dataSource.sync();
},_displayRow:function(bI){var bJ=this,bE=bJ._modelForContainer(bI),bH,bF,bG,bD=bI.hasClass("k-state-selected"),bC=bI.hasClass("k-alt");
if(bE){if(bJ.lockedContent){bH=b((bC?bJ.lockedAltRowTemplate:bJ.lockedRowTemplate)(bE));
bJ._relatedRow(bI.last()).replaceWith(bH);
}bJ.angular("cleanup",function(){return{elements:bI.get()};
});
bF=b((bC?bJ.altRowTemplate:bJ.rowTemplate)(bE));
bI.replaceWith(bF);
bJ.trigger("itemChange",{item:bF,data:bE,ns:bo});
if(bH&&bH.length){bJ.trigger("itemChange",{item:bH,data:bE,ns:bo});
}var bB=bF;
var bA=[{dataItem:bE}];
if(bH&&bH.length){bB=bF.add(bH);
bA.push({dataItem:bE});
}bJ.angular("compile",function(){return{elements:bB.get(),data:bA};
});
if(bD&&bJ.options.selectable){bJ.select(bF.add(bH));
}if(bH){f(bF[0],bH[0]);
}bG=bF.next();
if(bG.hasClass("k-detail-row")&&bG.is(":visible")){bF.find(".k-hierarchy-cell .k-icon").removeClass("k-i-expand").addClass("k-i-collapse");
}}},_showMessage:function(bC,bD){var bF=this;
if(!bF._isMobile){return window.confirm(bC.title);
}var bE=aC.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>');
var bB=b(bE(bC)).appendTo(bF.view.element);
var bA=bF._actionSheet=new aC.mobile.ui.ActionSheet(bB,{cancel:bC.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy();
},command:function(bG){var bH=b(bG.currentTarget).parent();
if(!bH.hasClass("km-actionsheet-cancel")){bF._removeRow(bD);
}},popup:bF._actionSheetPopupOptions});
bA.open(bD);
return false;
},_confirmation:function(bC){var bD=this,bB=bD.options.editable,bA=bB===true||typeof bB===bf?bD.options.messages.editable.confirmation:bB.confirmation;
if(az(bB)&&typeof bB.mode===bf&&typeof bA!==bf&&bA!==false){bA=bD.options.messages.editable.confirmation;
}if(bA!==false&&bA!=null){if(typeof bA===ab){bA=bA(bD._modelForContainer(bC));
}return bD._showMessage({confirmDelete:bB.confirmDelete||bD.options.messages.editable.confirmDelete,cancelDelete:bB.cancelDelete||bD.options.messages.editable.cancelDelete,title:bA===true?bD.options.messages.editable.confirmation:bA},bC);
}return true;
},cancelChanges:function(){this.dataSource.cancelChanges();
},saveChanges:function(){var bA=this;
if((bA.editable&&bA.editable.end()||!bA.editable)&&!bA.trigger(a9)){bA.dataSource.sync();
}},addRow:function(){var bK=this,bE,bC=bK.dataSource,bF=bK._editMode(),bB=bK.options.editable.createAt||"",bH=bC.pageSize(),bL=bC.view()||[];
if(bK.editable&&bK.editable.end()||!bK.editable){if(bF!="incell"){bK.cancelRow();
}bE=bC.indexOf(bL[0]);
if(bB.toLowerCase()=="bottom"){bE+=bL.length;
if(bH&&!bC.options.serverPaging&&bH<=bL.length){bE-=1;
}}if(bE<0){if(bC.page()>bC.totalPages()){bE=(bC.page()-1)*bH;
}else{bE=0;
}}var bG=bC.insert(bE,{}),bD=bG.uid,bJ=bK.lockedContent?bK.lockedTable:bK.table,bI=bJ.find("tr["+aC.attr("uid")+"="+bD+"]"),bA=bI.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(bK._firstEditableColumnIndex(bI));
if(bF==="inline"&&bI.length){bK.editRow(bI);
}else{if(bF==="popup"){bK.editRow(bG);
}else{if(bA.length){bK.editCell(bA);
}}}if(bB.toLowerCase()=="bottom"&&bK.lockedContent){bK.lockedContent[0].scrollTop=bK.content[0].scrollTop=bK.table[0].offsetHeight;
}}},_firstEditableColumnIndex:function(bC){var bG=this,bA,bB=aE(bG.columns),bD,bE,bF=bG._modelForContainer(bC);
for(bD=0,bE=bB.length;
bD<bE;
bD++){bA=bB[bD];
if(bF&&(!bF.editable||bF.editable(bA.field))&&!bA.command&&bA.field&&bA.hidden!==true){return bD;
}}return -1;
},_toolbar:function(){var bC=this,bE=bC.wrapper,bD=bC.options.toolbar,bB=bC.options.editable,bA;
if(bD){bA=bC.wrapper.find(".k-grid-toolbar");
if(!bA.length){if(!au(bD)){bD=typeof bD===bf?bD:bC._toolbarTmpl(bD).replace(bm,"\\#");
bD=a1(aC.template(bD),bC);
}bA=b('<div class="k-header k-grid-toolbar" />').html(bD({})).prependTo(bE);
bC.angular("compile",function(){return{elements:bA.get()};
});
}if(bB&&bB.create!==false){bA.on(m+aW,".k-grid-add",function(bF){bF.preventDefault();
bC.addRow();
}).on(m+aW,".k-grid-cancel-changes",function(bF){bF.preventDefault();
bC.cancelChanges();
}).on(m+aW,".k-grid-save-changes",function(bF){bF.preventDefault();
bC.saveChanges();
});
}bA.on(m+aW,".k-grid-excel",function(bF){bF.preventDefault();
bC.saveAsExcel();
});
bA.on(m+aW,".k-grid-pdf",function(bF){bF.preventDefault();
bC.saveAsPDF();
});
}},_toolbarTmpl:function(bA){var bE=this,bC,bD,bB="";
if(ap(bA)){for(bC=0,bD=bA.length;
bC<bD;
bC++){bB+=bE._createButton(bA[bC]);
}}return bB;
},_createButton:function(bC){var bG=bC.template||z,bD=typeof bC===bf?bC:bC.name||bC.text,bB=G[bD]?G[bD].className:"k-grid-"+(bD||"").replace(/\s/g,""),bF={className:bB,text:bD,imageClass:"",attr:"",iconClass:""},bE=this.options.messages.commands,bA;
if(!bD&&!(az(bC)&&bC.template)){throw new Error("Custom commands should have name specified");
}if(az(bC)){bC=P(true,{},bC);
if(bC.className&&ao(bF.className,bC.className.split(" "))<0){bC.className+=" "+bF.className;
}else{if(bC.className===bp){bC.className=bF.className;
}}if(bD==="edit"&&az(bC.text)){bC=P(true,{},bC);
bC.text=bC.text.edit;
}if(bC.attr){if(az(bC.attr)){bC.attr=bg(bC.attr);
}if(typeof bC.attr===bf){bA=bC.attr.match(/class="(.+?)"/);
if(bA&&ao(bA[1],bC.className.split(" "))<0){bC.className+=" "+bA[1];
}}}bF=P(true,bF,G[bD],{text:bE[bD]},bC);
}else{bF=P(true,bF,G[bD],{text:bE[bD]});
}return aC.template(bG)(bF);
},_hasFooters:function(){return !!this.footerTemplate||!!this.groupFooterTemplate||this.footer&&this.footer.length>0||this.wrapper.find(".k-grid-footer").length>0;
},_groupable:function(){var bA=this;
if(bA._groupableClickHandler){bA.table.add(bA.lockedTable).off(m+aW,bA._groupableClickHandler);
}else{bA._groupableClickHandler=function(bB){var bC=b(this),bD=bC.closest("tr");
if(bC.hasClass("k-i-collapse")){bA.collapseGroup(bD);
}else{bA.expandGroup(bD);
}bB.preventDefault();
bB.stopPropagation();
};
}if(bA._isLocked()){bA.lockedTable.on(m+aW,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",bA._groupableClickHandler);
}else{bA.table.on(m+aW,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",bA._groupableClickHandler);
}bA._attachGroupable();
},_attachGroupable:function(){var bD=this,bE=bD.wrapper,bC=bD.options.groupable,bA=ak+"["+aC.attr("field")+"]",bB=bD.content?".k-grid-header:first "+bA:"table:first>.k-grid-header "+bA;
if(bC&&bC.enabled!==false){if(!bE.has("div.k-grouping-header")[0]){b("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(bE);
}if(bD.groupable){bD.groupable.destroy();
}bD.groupable=new bo.Groupable(bE,P({},bC,{draggable:bD._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:bD.dataSource,draggableElements:bB,filter:bB,allowDrag:bD.options.reorderable,change:function(bF){if(bD.trigger("group",{groups:bF.groups})){bF.preventDefault();
}}}));
}},_continuousItems:function(bD,bA){if(!this.lockedContent){return;
}var bJ=this;
var bC=bJ.table.add(bJ.lockedTable);
var bF=b(bD,bC[0]);
var bH=b(bD,bC[1]);
var bB=bA?aG(bJ.columns).length:1;
var bG=bA?bJ.columns.length-bB:1;
var bI=[];
for(var bE=0;
bE<bF.length;
bE+=bB){a2.apply(bI,bF.slice(bE,bE+bB));
a2.apply(bI,bH.splice(0,bG));
}return bI;
},_selectable:function(){var bH=this,bE,bA,bF=[],bD=bH._isLocked(),bG=bH.options.selectable;
if(bG){if(bH.selectable){bH.selectable.destroy();
}bG=aC.ui.Selectable.parseOptions(bG);
bE=bG.multiple;
bA=bG.cell;
if(bH._hasDetails()){bF[bF.length]=".k-detail-row";
}if(bH.options.groupable||bH._hasFooters()){bF[bF.length]=".k-grouping-row,.k-group-footer";
}bF=bF.join(",");
if(bF!==""){bF=":not("+bF+")";
}var bB=bH.table;
if(bD){bB=bB.add(bH.lockedTable);
}var bC=">"+(bA?bb:"tbody>tr"+bF);
bH.selectable=new aC.ui.Selectable(bB,{filter:bC,aria:true,multiple:bE,change:function(){bH.trigger(k);
},useAllItems:bD&&bE&&bA,relatedTarget:function(bJ){if(bA||!bD){return;
}var bL;
var bM=b();
for(var bI=0,bK=bJ.length;
bI<bK;
bI++){bL=bH._relatedRow(bJ[bI]);
if(ao(bL[0],bJ)<0){bM=bM.add(bL);
}}return bM;
},continuousItems:function(){return bH._continuousItems(bC,bA);
}});
if(bH.options.navigatable){bB.on("keydown"+aW,function(bJ){var bI=bH.current();
var bK=bJ.target;
if(bJ.keyCode===aD.SPACEBAR&&b.inArray(bK,bB)>-1&&!bI.is(".k-edit-cell,.k-header")&&bI.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){bJ.preventDefault();
bJ.stopPropagation();
bI=bA?bI:bI.parent();
if(bD&&!bA){bI=bI.add(bH._relatedRow(bI));
}if(bE){if(!bJ.ctrlKey){bH.selectable.clear();
}else{if(bI.hasClass(ba)){bI.removeClass(ba);
bH.trigger(k);
return;
}}}else{bH.selectable.clear();
}bH.selectable.value(bI);
}});
}}},_clipboard:function(){var bB=this.options;
var bC=bB.selectable;
if(bC&&bB.allowCopy){var bA=this;
if(!bB.navigatable){bA.table.add(bA.lockedTable).attr("tabindex",0).on("mousedown"+aW+" keydown"+aW,".k-detail-cell",function(bD){if(bD.target!==bD.currentTarget){bD.stopImmediatePropagation();
}}).on("mousedown"+aW,aO+">"+aM,a1(bj,bA));
}bA.copyHandler=a1(bA.copySelection,bA);
bA.updateClipBoardState=function(){if(bA.areaClipBoard){bA.areaClipBoard.val(bA.getTSV()).focus().select();
}};
bA.bind("change",bA.updateClipBoardState);
bA.wrapper.on("keydown",bA.copyHandler);
bA.clearAreaHandler=a1(bA.clearArea,bA);
bA.wrapper.on("keyup",bA.clearAreaHandler);
}},copySelection:function(bA){if(bA instanceof jQuery.Event&&!(bA.ctrlKey||bA.metaKey)||b(bA.target).is("input:visible,textarea:visible")||window.getSelection&&window.getSelection().toString()||document.selection&&document.selection.createRange().text){return;
}if(!this.areaClipBoard){this.areaClipBoard=b("<textarea />").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper);
}this.areaClipBoard.val(this.getTSV()).focus().select();
},getTSV:function(){var bD=this;
var bJ=bD.select();
var bC="\t";
var bA=bD.options.allowCopy;
var bG=true;
if(b.isPlainObject(bA)&&bA.delimeter){bC=bA.delimeter;
}var bK="";
if(bJ.length){if(bJ.eq(0).is("tr")){bJ=bJ.find("td:not(.k-group-cell)");
}if(bG){bJ.filter(":visible");
}var bH=[];
var bB=this.columns.length;
var bF=bD._isLocked()&&aG(bD.columns).length;
var bE=true;
b.each(bJ,function(bO,bL){bL=b(bL);
var bQ=bL.closest("tr");
var bP=bQ.index();
var bM=bL.index();
if(bG){bM-=bL.prevAll(":hidden").length;
}if(bF&&bE){bE=b.contains(bD.lockedTable[0],bL[0]);
}if(bD._groups()&&bE){bM-=bD._groups();
}bM=bE?bM:bM+bF;
if(bB>bM){bB=bM;
}var bN=bL.text();
if(!bH[bP]){bH[bP]=[];
}bH[bP][bM]=bN;
});
var bI=bH.length;
bH=b.each(bH,function(bL,bM){if(bM){bH[bL]=bM.slice(bB);
if(bI>bL){bI=bL;
}}});
b.each(bH.slice(bI),function(bL,bM){if(bM){bK+=bM.join(bC)+"\r\n";
}else{bK+="\r\n";
}});
}return bK;
},clearArea:function(bA){var bB;
if(this.areaClipBoard&&bA&&bA.target===this.areaClipBoard[0]){if(this.options.navigatable){bB=b(this.current()).closest("table");
}else{bB=this.table;
}Y(bB,true);
}if(this.areaClipBoard){this.areaClipBoard.remove();
this.areaClipBoard=null;
}},_minScreenSupport:function(){var bA=this.hideMinScreenCols();
if(bA){this.minScreenResizeHandler=a1(this.hideMinScreenCols,this);
b(window).on("resize",this.minScreenResizeHandler);
}},hideMinScreenCols:function(){var bA=this.columns,bB=window.innerWidth>0?window.innerWidth:screen.width;
return this._iterateMinScreenCols(bA,bB);
},_iterateMinScreenCols:function(bC,bF){var bA=false;
for(var bD=0;
bD<bC.length;
bD++){var bB=bC[bD];
var bE=bB.minScreenWidth;
if(bE!==bp&&bE!==null){bA=true;
if(bE>bF){this.hideColumn(bB);
}else{this.showColumn(bB);
}}if(!bB.hidden&&bB.columns){bA=this._iterateMinScreenCols(bB.columns,bF)||bA;
}}return bA;
},_relatedRow:function(bC){var bB=this.lockedTable;
bC=b(bC);
if(!bB){return bC;
}var bD=bC.closest(this.table.add(this.lockedTable));
var bA=bD.find(">tbody>tr").index(bC);
bD=bD[0]===this.table[0]?bB:this.table;
return bD.find(">tbody>tr").eq(bA);
},clearSelection:function(){var bA=this;
bA.selectable.clear();
bA.trigger(k);
},select:function(bA){var bC=this,bB=bC.selectable;
bA=bC.table.add(bC.lockedTable).find(bA);
if(bA.length){if(!bB.options.multiple){bB.clear();
bA=bA.first();
}if(bC._isLocked()){bA=bA.add(bA.map(function(){return bC._relatedRow(this);
}));
}bB.value(bA);
return;
}return bB.value();
},_updateCurrentAttr:function(bA,bC){var bB=b(bA).data("headerId");
b(bA).removeClass(X).closest("table").removeAttr("aria-activedescendant");
if(bB){bB=bB.replace(this._cellId,"");
b(bA).attr("id",bB);
}else{b(bA).removeAttr("id");
}bC.data("headerId",bC.attr("id")).attr("id",this._cellId).addClass(X).closest("table").attr("aria-activedescendant",this._cellId);
this._current=bC;
},_scrollCurrent:function(){var bA=this._current;
var bF=this.options.scrollable;
if(!bA||!bF){return;
}var bD=bA.parent();
var bH=bD.closest("table").parent();
var bC=bH.is(".k-grid-content-locked,.k-grid-header-locked");
var bB=bH.is(".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap");
var bG=b(this.content).find(">.k-virtual-scrollable-wrap").addBack().last()[0];
if(bB){if(bF.virtual){var bE=Math.max(ao(bD[0],this._items(bD.parent())),0);
this._rowVirtualIndex=this.virtualScrollable.itemIndex(bE);
this.virtualScrollable.scrollIntoView(bD);
}else{this._scrollTo(this._relatedRow(bD)[0],bG);
}}if(this.lockedContent){this.lockedContent[0].scrollTop=bG.scrollTop;
}if(!bC){this._scrollTo(bA[0],bG);
}},current:function(bA){return this._setCurrent(bA,true);
},_setCurrent:function(bB,bC){var bA=this._current;
bB=b(bB);
if(bB.length){if(!bA||bA[0]!==bB[0]){this._updateCurrentAttr(bA,bB);
this._scrollCurrent();
if(!bC){this.trigger(aN,{element:bB});
}}}return this._current;
},_removeCurrent:function(){if(this._current){this._current.removeClass(X);
this._current=null;
}},_scrollTo:function(bE,bB){var bH=bE.tagName.toLowerCase();
var bK=bH==="td"||bH==="th";
var bF=bE[bK?"offsetLeft":"offsetTop"];
var bG=bE[bK?"offsetWidth":"offsetHeight"];
var bD=bB[bK?"scrollLeft":"scrollTop"];
var bC=bB[bK?"clientWidth":"clientHeight"];
var bA=bF+bG;
var bL=0;
var bJ=0;
var bI=0;
if(aA&&bK){var bM=b(bE).closest("table")[0];
if(i.msie){bJ=bM.offsetLeft;
}else{if(i.mozilla){bI=bM.offsetLeft-aC.support.scrollbar();
}}}bD=Math.abs(bD+bJ-bI);
if(bD>bF){bL=bF;
}else{if(bA>bD+bC){if(bG<=bC){bL=bA-bC;
}else{bL=bF;
}}else{bL=bD;
}}bL=Math.abs(bL+bJ)+bI;
bB[bK?"scrollLeft":"scrollTop"]=bL;
},_navigatable:function(){var bD=this;
if(!bD.options.navigatable){return;
}var bA=bD.table.add(bD.lockedTable);
var bB=bD.thead.parent().add(b(">table",bD.lockedHeader));
var bC=bA;
if(bD.options.scrollable){bC=bC.add(bB);
bB.attr(bi,-1);
}this._navigatableTables=bC;
bC.off("mousedown"+aW+" focus"+aW+" focusout"+aW+" keydown"+aW);
bB.on("keydown"+aW,a1(bD._openHeaderMenu,bD)).find("a.k-link").attr("tabIndex",-1);
bA.attr(bi,aJ.max(bA.attr(bi)||0,0)).on("mousedown"+aW+" keydown"+aW,".k-detail-cell",function(bE){if(bE.target!==bE.currentTarget){bE.stopImmediatePropagation();
}});
bC.on(aC.support.touch?"touchstart"+aW:"mousedown"+aW,aO+">"+aM,a1(bj,bD)).on("focus"+aW,a1(bD._tableFocus,bD)).on("focusout"+aW,a1(bD._tableBlur,bD)).on("keydown"+aW,a1(bD._tableKeyDown,bD));
},_openHeaderMenu:function(bA){if(bA.altKey&&bA.keyCode==aD.DOWN){this.current().find(".k-grid-filter, .k-header-column-menu").click();
bA.stopImmediatePropagation();
}},_setTabIndex:function(bA){this._navigatableTables.attr(bi,-1);
bA.attr(bi,0);
},_tableFocus:function(bB){if(aC.support.touch){return;
}var bA=this.current();
var bC=b(bB.currentTarget);
if(bA&&bA.is(":visible")){bA.addClass(X);
}else{this._setCurrent(bC.find(U));
}this._setTabIndex(bC);
},_tableBlur:function(){var bA=this.current();
if(bA){bA.removeClass(X);
}},_tableKeyDown:function(bC){var bB=this.current();
var bE=this.virtualScrollable&&this.virtualScrollable.fetching();
var bF=b(bC.target);
var bA=!bC.isDefaultPrevented()&&!bF.is(":button,a,:input,a>.k-icon");
if(bE){bC.preventDefault();
return;
}bB=bB?bB:b(this.lockedTable).add(this.table).find(U);
if(!bB.length){return;
}var bD=false;
if(bA&&bC.keyCode==aD.UP){bD=this._moveUp(bB);
}if(bA&&bC.keyCode==aD.DOWN){bD=this._moveDown(bB);
}if(bA&&bC.keyCode==(aA?aD.LEFT:aD.RIGHT)){bD=this._moveRight(bB,bC.altKey);
}if(bA&&bC.keyCode==(aA?aD.RIGHT:aD.LEFT)){bD=this._moveLeft(bB,bC.altKey);
}if(bA&&bC.keyCode==aD.PAGEDOWN){bD=this._handlePageDown();
}if(bA&&bC.keyCode==aD.PAGEUP){bD=this._handlePageUp();
}if(bC.keyCode==aD.ENTER||bC.keyCode==aD.F2){bD=this._handleEnterKey(bB,bC.currentTarget,bF);
}if(bC.keyCode==aD.ESC){bD=this._handleEscKey(bB,bC.currentTarget);
}if(bC.keyCode==aD.TAB){bD=this._handleTabKey(bB,bC.currentTarget,bC.shiftKey);
}if(bD){bC.preventDefault();
bC.stopPropagation();
}},_moveLeft:function(bC,bA){var bE,bD;
var bF=bC.parent();
var bB=bF.parent();
if(bA){this.collapseRow(bF);
}else{bD=bB.find(aO).index(bF);
bE=this._prevHorizontalCell(bB,bC,bD);
if(!bE[0]){bB=this._horizontalContainer(bB);
bE=this._prevHorizontalCell(bB,bC,bD);
if(bE[0]!==bC[0]){Y(bB.parent(),true);
}}this._setCurrent(bE);
}return true;
},_moveRight:function(bC,bA){var bE,bD;
var bF=bC.parent();
var bB=bF.parent();
if(bA){this.expandRow(bF);
}else{bD=bB.find(aO).index(bF);
bE=this._nextHorizontalCell(bB,bC,bD);
if(!bE[0]){bB=this._horizontalContainer(bB,true);
bE=this._nextHorizontalCell(bB,bC,bD);
if(bE[0]!==bC[0]){Y(bB.parent(),true);
}}this._setCurrent(bE);
}return true;
},_moveUp:function(bB){var bA=bB.parent().parent();
var bC=this._prevVerticalCell(bA,bB);
if(!bC[0]){bA=this._verticalContainer(bA,true);
bC=this._prevVerticalCell(bA,bB);
if(bC[0]){Y(bA.parent(),true);
}}this._setCurrent(bC);
return true;
},_moveDown:function(bB){var bA=bB.parent().parent();
var bC=this._nextVerticalCell(bA,bB);
if(!bC[0]){bA=this._verticalContainer(bA);
bC=this._nextVerticalCell(bA,bB);
if(bC[0]){Y(bA.parent(),true);
}}this._setCurrent(bC);
return true;
},_handlePageDown:function(){if(!this.options.pageable){return false;
}this.dataSource.page(this.dataSource.page()+1);
return true;
},_handlePageUp:function(){if(!this.options.pageable){return false;
}this.dataSource.page(this.dataSource.page()-1);
return true;
},_handleTabKey:function(bB,bC,bE){var bD=this.options.editable&&this._editMode()=="incell";
var bA;
if(!bD||bB.is("th")){return false;
}bA=b(c()).closest(".k-edit-cell");
if(bA[0]&&bA[0]!==bB[0]){bB=bA;
}bA=this._tabNext(bB,bC,bE);
if(bA.length){this._handleEditing(bB,bA,bA.closest("table"));
return true;
}return false;
},_handleEscKey:function(bB,bD){var bA=c();
var bE=this._editMode()=="incell";
if(!ax(bB)){if(bB.has(bA).length){Y(bD,true);
return true;
}return false;
}if(bE){this.closeCell(true);
}else{var bC=b(bB).parent().index();
if(bA){bA.blur();
}this.cancelRow(true);
if(bC>=0){this._setCurrent(this.items().eq(bC).children(aM).first());
}}if(i.msie&&i.version<9){document.body.focus();
}Y(bD,true);
return true;
},_toggleCurrent:function(bA,bB){var bC=bA.parent();
if(bC.is(".k-grouping-row")){bC.find(".k-icon:first").click();
return true;
}if(!bB&&bC.is(".k-master-row")){bC.find(".k-icon:first").click();
return true;
}return false;
},_handleEnterKey:function(bB,bC,bF){var bD=this.options.editable&&this.options.editable.update!==false;
var bA=bF.closest("[role=gridcell]");
if(!bF.is("table")&&!b.contains(bB[0],bF[0])){bB=bA;
}if(bB.is("th")){bB.find(".k-link").click();
return true;
}if(this._toggleCurrent(bB,bD)){return true;
}var bE=bB.find(":kendoFocusable:first");
if(bE[0]&&!bB.hasClass("k-edit-cell")&&bB.hasClass("k-state-focused")){bE.focus();
return true;
}if(bD&&!bF.is(":button,.k-button,textarea")){if(!bA[0]){bA=bB;
}this._handleEditing(bA,false,bC);
return true;
}return false;
},_nextHorizontalCell:function(bG,bB,bD){var bA=bB.nextAll(D);
if(!bA.length){var bF=bG.find(aO);
var bE=bF.index(bB.parent());
if(bE==-1){if(bB.hasClass("k-header")){var bC=[];
aI([aG(this.columns)[0]],l(bF.eq(0).children().first()),bC,0,0);
if(bC[bD]){return bC[bD][0];
}return bB;
}if(bB.parent().hasClass("k-filter-row")){return bF.last().children(D).first();
}return bF.eq(bD).children(D).first();
}}return bA.first();
},_prevHorizontalCell:function(bH,bC,bE){var bA=bC.prevAll(D);
if(!bA.length){var bG=bH.find(aO);
var bF=bG.index(bC.parent());
if(bF==-1){if(bC.hasClass("k-header")){var bD=[];
var bB=aG(this.columns);
aI([bB[bB.length-1]],l(bG.eq(0).children().last()),bD,0,0);
if(bD[bE]){return bD[bE][0];
}return bC;
}if(bC.parent().hasClass("k-filter-row")){return bG.last().children(D).last();
}return bG.eq(bE).children(D).last();
}}return bA.first();
},_currentDataIndex:function(bD,bA){var bB=bA.attr("data-index");
if(!bB){return bp;
}var bC=aG(this.columns).length;
if(bC&&!bD.closest("div").hasClass("k-grid-content-locked")[0]){return bB-bC;
}return bB;
},_prevVerticalCell:function(bB,bC){var bA;
var bE=bC.parent();
var bG=bB.children(aO);
var bF=bG.index(bE);
var bD=this._currentDataIndex(bB,bC);
if(bD||bC.hasClass("k-header")){bA=aZ(bC);
return bA.eq(bA.length-2);
}bD=bE.children(D).index(bC);
if(bE.hasClass("k-filter-row")){return aF(bB).eq(bD);
}if(bF==-1){bE=bB.find(".k-filter-row");
if(!bE[0]){return aF(bB).eq(bD);
}}else{bE=bF===0?b():bG.eq(bF-1);
}bA=bE.children(D);
if(bA.length>bD){return bA.eq(bD);
}return bA.eq(0);
},_nextVerticalCell:function(bB,bC){var bA;
var bE=bC.parent();
var bG=bB.children(aO);
var bF=bG.index(bE);
var bD=this._currentDataIndex(bB,bC);
if(bF!=-1&&bD===bp&&bC.hasClass("k-header")){return l(bC).eq(1);
}bD=bD?parseInt(bD,10):bE.children(D).index(bC);
if(bF==-1){bE=bG.eq(0);
}else{bE=bG.eq(bF+bC[0].rowSpan);
}bA=bE.children(D);
if(bA.length>bD){return bA.eq(bD);
}return bA.eq(0);
},_verticalContainer:function(bA,bF){var bE=bA.parent();
var bC=this._navigatableTables.length;
var bD=Math.floor(bC/2);
var bB=ao(bE[0],this._navigatableTables);
if(bF){bD*=-1;
}bB+=bD;
if(bB>=0||bB<bC){bE=this._navigatableTables.eq(bB);
}return bE.find(bF?"thead":"tbody");
},_horizontalContainer:function(bA,bD){var bC=this._navigatableTables.length;
if(bC<=2){return bA;
}var bE=bA.parent();
var bB=ao(bE[0],this._navigatableTables);
bB+=bD?1:-1;
if(bD&&(bB==2||bB==bC)){return bA;
}if(!bD&&(bB==1||bB<0)){return bA;
}return this._navigatableTables.eq(bB).find("thead, tbody");
},_tabNext:function(bB,bC,bA){var bE=true;
var bD=bA?bB.prevAll(D+":first"):bB.nextAll(":visible:first");
if(!bD.length){bD=bB.parent();
if(this.lockedTable){bE=bA&&bC==this.lockedTable[0]||!bA&&bC==this.table[0];
bD=this._relatedRow(bD);
}if(bE){bD=bD[bA?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first");
}bD=bD.children(D+(bA?":last":":first"));
}return bD;
},_handleEditing:function(bB,bI,bK){var bL=this,bA=b(c()),bH=bL._editMode(),bG=i.msie,bJ=bG&&i.version<9,bD=bL._editContainer,bE,bC=bL.options.editable&&bL.options.editable.update!==false,bF;
bK=b(bK);
if(bH=="incell"){bF=bB.hasClass("k-edit-cell");
}else{bF=bB.parent().hasClass("k-grid-edit-row");
}if(bL.editable){if(b.contains(bD[0],bA[0])){if(i.opera||bJ){bA.blur().change().triggerHandler("blur");
}else{bA.blur();
if(bG){bA.blur();
}}}if(!bL.editable){Y(bK);
return;
}if(bL.editable.end()){if(bH=="incell"){bL.closeCell();
}else{bL.saveRow();
bF=true;
}}else{if(bH=="incell"){bL._setCurrent(bD);
}else{bL._setCurrent(bD.children().filter(D).first());
}bE=bD.find(":kendoFocusable:first")[0];
if(bE){bE.focus();
}return;
}}if(bI){bL._setCurrent(bI);
}if(bJ){document.body.focus();
}Y(bK,true);
if(!bC){return;
}if(!bF&&!bI||bI){if(bH=="incell"){bL.editCell(bL.current());
}else{bL.editRow(bL.current().parent());
}}},_wrapper:function(){var bC=this,bB=bC.table,bA=bC.options.height,bD=bC.element;
if(!bD.is("div")){bD=bD.wrap("<div/>").parent();
}bC.wrapper=bD.addClass("k-grid k-widget");
if(bA){bC.wrapper.css(al,bA);
bB.css(al,"auto");
}bC._initMobile();
},_initMobile:function(){var bB=this.options;
var bC=this;
this._isMobile=bB.mobile===true&&aC.support.mobileOS||bB.mobile==="phone"||bB.mobile==="tablet";
if(this._isMobile){var bA=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+aC.ns+'stretch="true" data-'+aC.ns+'role="view" data-'+aC.ns+'init-widgets="false"></div>').parent();
this.pane=aC.mobile.ui.Pane.wrap(bA);
this.view=this.pane.view();
this._actionSheetPopupOptions=b(document.documentElement).hasClass("km-root")?{modal:false}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"};
if(bB.height){this.pane.element.parent().css(al,bB.height);
}this._editAnimation="slide";
this.view.bind("show",function(){if(bC._isLocked()){bC._updateTablesWidth();
bC._applyLockedContainersWidth();
bC._syncLockedContentHeight();
bC._syncLockedHeaderHeight();
bC._syncLockedFooterHeight();
}});
}},_tbody:function(){var bC=this,bA=bC.table,bB;
bB=bA.find(">tbody");
if(!bB.length){bB=b("<tbody/>").appendTo(bA);
}bC.tbody=bB.attr("role","rowgroup");
},_scrollable:function(){var bH=this,bC,bG,bD=bH.options,bE=bD.scrollable,bB=bE!==true&&bE.virtual&&!bH.virtualScrollable,bF=!aC.support.kineticScrollNeeded||bB?aC.support.scrollbar():0;
if(bE){bC=bH.wrapper.children(".k-grid-header");
if(!bC[0]){bC=b('<div class="k-grid-header" />').insertBefore(bH.table);
}bC.css(aA?"padding-left":"padding-right",bE.virtual?bF+1:bF);
bG=b('<table role="grid" />');
if(av){bG.attr("cellspacing",0);
}bG.width(bH.table[0].style.width);
bG.append(bH.thead);
bC.empty().append(b('<div class="k-grid-header-wrap k-auto-scrollable" />').append(bG));
bH.content=bH.table.parent();
if(bH.content.is(".k-virtual-scrollable-wrap, .km-scroll-container")){bH.content=bH.content.parent();
}if(!bH.content.is(".k-grid-content, .k-virtual-scrollable-wrap")){bH.content=bH.table.wrap('<div class="k-grid-content k-auto-scrollable" />').parent();
}if(bB){bH.virtualScrollable=new bt(bH.content,{dataSource:bH.dataSource,itemHeight:function(){return bH._averageRowHeight();
}});
}bH.scrollables=bC.children(".k-grid-header-wrap").add(bH.content);
var bA=bH.wrapper.find(".k-grid-footer");
if(bA.length){bH.scrollables=bH.scrollables.add(bA.children(".k-grid-footer-wrap"));
}if(bE.virtual){bH.content.find(">.k-virtual-scrollable-wrap").unbind("scroll"+aW).bind("scroll"+aW,function(){bH.scrollables.scrollLeft(this.scrollLeft);
if(bH.lockedContent){bH.lockedContent[0].scrollTop=this.scrollTop;
}});
}else{bH.content.unbind("scroll"+aW).bind("scroll"+aW,function(bJ){bH.scrollables.not(bJ.currentTarget).scrollLeft(this.scrollLeft);
if(bH.lockedContent&&bJ.currentTarget==bH.content[0]){bH.lockedContent[0].scrollTop=this.scrollTop;
}});
var bI=bH.content.data("kendoTouchScroller");
if(bI){bI.destroy();
}bI=aC.touchScroller(bH.content);
if(bI&&bI.movable){bH.touchScroller=bI;
bI.movable.bind("change",function(bJ){bH.scrollables.scrollLeft(-bJ.sender.x);
if(bH.lockedContent){bH.lockedContent.scrollTop(-bJ.sender.y);
}});
bH.one(E,function(bJ){bJ.sender.wrapper.addClass("k-grid-backface");
});
}}}},_renderNoRecordsContent:function(){var bB=this;
if(bB.options.noRecords){var bA=bB.table.parent().children("."+aS);
if(bA.length){bB.angular("cleanup",function(){return{elements:bA.get()};
});
bA.remove();
}if(!bB.dataSource||!bB.dataSource.view().length){bA=b(bB.noRecordsTemplate({})).insertAfter(bB.table);
bB.angular("compile",function(){return{elements:bA.get(),data:[{}]};
});
}}},_setContentWidth:function(bE){var bF=this,bC="k-grid-content-expander",bB='<div class="'+bC+'"></div>',bD=bF.resizable,bA;
if(bF.options.scrollable&&bF.wrapper.is(":visible")){bA=bF.table.parent().children("."+bC);
bF._setContentWidthHandler=a1(bF._setContentWidth,bF);
if(!bF.dataSource||!bF.dataSource.view().length){if(!bA[0]){bA=b(bB).appendTo(bF.table.parent());
if(bD){bD.bind("resize",bF._setContentWidthHandler);
}}if(bF.thead){bA.width(bF.thead.width());
if(!isNaN(parseFloat(bE,10))){bF.content.scrollLeft(bE);
}}}else{if(bA[0]){bA.remove();
if(bD){bD.unbind("resize",bF._setContentWidthHandler);
}}}bF._applyLockedContainersWidth();
if(bF.lockedHeader&&bF.table[0].clientWidth===0){bF.table[0].style.width="1px";
}}},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var bE=this.thead.parent(),bF=bE.parent(),bB=this.wrapper[0].clientWidth,bD=this._groups(),bI=aC.support.scrollbar(),bA=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),bG=bE.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),bJ=w(bA),bH=w(bG),bC;
if(bD>0){bJ+=aY(this.lockedHeader.find(".k-group-cell:first"))*bD;
}if(bJ>=bB){bJ=bB-3*bI;
}this.lockedHeader.add(this.lockedContent).width(bJ);
bF[0].style.width=bF.parent().width()-bJ-2+"px";
bE.add(this.table).width(bH);
if(this.virtualScrollable){bB-=bI;
}this.content[0].style.width=bB-bJ-2+"px";
if(this.lockedFooter&&this.lockedFooter.length){this.lockedFooter.width(bJ);
bC=this.footer.find(".k-grid-footer-wrap");
bC[0].style.width=bF[0].clientWidth+"px";
bC.children().first().width(bH);
}}},_setContentHeight:function(){var bF=this,bD=bF.options,bB=bF.wrapper.innerHeight(),bA=bF.wrapper.children(".k-grid-header"),bE=aC.support.scrollbar();
if(bD.scrollable&&bF.wrapper.is(":visible")){bB-=aX(bA);
if(bF.pager){bB-=aX(bF.pager.element);
}if(bD.groupable){bB-=aX(bF.wrapper.children(".k-grouping-header"));
}if(bD.toolbar){bB-=aX(bF.wrapper.children(".k-grid-toolbar"));
}if(bF.footerTemplate){bB-=aX(bF.wrapper.children(".k-grid-footer"));
}var bC=function(bG){var bH,bI;
if(bG[0].style.height){return true;
}else{bH=bG.height();
}bG.height("auto");
bI=bG.height();
if(bH!=bI){bG.height("");
return true;
}bG.height("");
return false;
};
if(bC(bF.wrapper)){if(bB>bE*2){if(bF.lockedContent){bE=bF.table[0].offsetWidth>bF.table.parent()[0].clientWidth?bE:0;
bF.lockedContent.height(bB-bE);
}bF.content.height(bB);
}else{bF.content.height(bE*2+1);
}}}},_averageRowHeight:function(){var bD=this,bB=bD._items(bD.tbody).length,bC=bD._rowHeight;
if(bB===0){return bC;
}if(!bD._rowHeight){bD._rowHeight=bC=aX(bD.table)/bB;
bD._sum=bC;
bD._measures=1;
}var bA=aX(bD.table)/bB;
if(bC!==bA){bD._measures++;
bD._sum+=bA;
bD._rowHeight=bD._sum/bD._measures;
}return bC;
},_dataSource:function(){var bD=this,bB=bD.options,bC,bA=bB.dataSource;
bA=ap(bA)?{data:bA}:bA;
if(az(bA)){P(bA,{table:bD.table,fields:bD.columns});
bC=bB.pageable;
if(az(bC)&&bC.pageSize!==bp){bA.pageSize=bC.pageSize;
}}if(bD.dataSource&&bD._refreshHandler){bD.dataSource.unbind(k,bD._refreshHandler).unbind(a0,bD._progressHandler).unbind(O,bD._errorHandler);
}else{bD._refreshHandler=a1(bD.refresh,bD);
bD._progressHandler=a1(bD._requestStart,bD);
bD._errorHandler=a1(bD._error,bD);
}bD.dataSource=F.create(bA).bind(k,bD._refreshHandler).bind(a0,bD._progressHandler).bind(O,bD._errorHandler);
},_error:function(){this._progress(false);
},_requestStart:function(){this._progress(true);
},_modelChange:function(bE){var bQ=this,bP=bQ.tbody,bJ=bE.model,bM=bQ.tbody.find("tr["+aC.attr("uid")+"="+bJ.uid+"]"),bL,bB,bD,bG=bM.hasClass("k-alt"),bR,bF=bQ._items(bP).index(bM),bH=bQ.lockedContent,bN,bO,bC,bK,bI;
if(bH){bL=bQ._relatedRow(bM);
}if(bM.add(bL).children(".k-edit-cell").length&&!bQ.options.rowTemplate){bM.add(bL).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){bB=b(this);
bD=aE(bQ.columns)[bQ.cellIndex(bB)];
if(bD.field===bE.field){if(!bB.hasClass("k-edit-cell")){bQ._displayCell(bB,bD,bJ);
b('<span class="k-dirty"/>').prependTo(bB);
}else{bB.addClass("k-dirty-cell");
}}});
}else{if(!bM.hasClass("k-grid-edit-row")){bO=b().add(bM);
if(bH){bR=(bG?bQ.lockedAltRowTemplate:bQ.lockedRowTemplate)(bJ);
bO=bO.add(bL);
bL.replaceWith(bR);
}bQ.angular("cleanup",function(){return{elements:bO.get()};
});
bR=(bG?bQ.altRowTemplate:bQ.rowTemplate)(bJ);
bM.replaceWith(bR);
bR=bQ._items(bP).eq(bF);
var bA=[{dataItem:bJ}];
if(bH){bM=bM.add(bL);
bL=bQ._relatedRow(bR)[0];
f(bR[0],bL);
bR=bR.add(bL);
bA.push({dataItem:bJ});
}bQ.angular("compile",function(){return{elements:bR.get(),data:bA};
});
bN=bQ.options.selectable;
if(bN&&bM.hasClass("k-state-selected")){bQ.select(bR);
}bK=bO.children(":not(.k-group-cell,.k-hierarchy-cell)");
bC=bR.children(":not(.k-group-cell,.k-hierarchy-cell)");
for(bF=0,bI=bQ.columns.length;
bF<bI;
bF++){bD=bQ.columns[bF];
bB=bC.eq(bF);
if(bN&&bK.eq(bF).hasClass("k-state-selected")){bB.addClass("k-state-selected");
}if(bD.field===bE.field){b('<span class="k-dirty"/>').prependTo(bB);
}}bQ.trigger("itemChange",{item:bR,data:bJ,ns:bo});
}}},_pageable:function(){var bB=this,bC,bA=bB.options.pageable;
if(bA){bC=bB.wrapper.children("div.k-grid-pager");
if(!bC.length){bC=b('<div class="k-pager-wrap k-grid-pager"/>').appendTo(bB.wrapper);
}if(bB.pager){bB.pager.destroy();
}if(typeof bA==="object"&&bA instanceof aC.ui.Pager){bB.pager=bA;
}else{bB.pager=new aC.ui.Pager(bC,P({},bA,{dataSource:bB.dataSource}));
}bB.pager.bind("pageChange",function(bD){if(bB.trigger("page",{page:bD.index})){bD.preventDefault();
}});
}},_footer:function(){var bH=this,bA=bH.dataSource.aggregates(),bE="",bC=bH.footerTemplate,bG=bH.options,bD,bB=bH.footer||bH.wrapper.find(".k-grid-footer");
if(bC){bE=b(bH._wrapFooter(bC(bA)));
if(bB.length){var bI=bE;
bH.angular("cleanup",function(){return{elements:bB.get()};
});
bB.replaceWith(bI);
bB=bH.footer=bI;
}else{if(bG.scrollable){bB=bH.footer=bG.pageable?bE.insertBefore(bH.wrapper.children("div.k-grid-pager")):bE.appendTo(bH.wrapper);
}else{bB=bH.footer=bE.insertBefore(bH.tbody);
}}bH.angular("compile",function(){return{elements:bB.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:aH(bH.columns,function(bJ){return{column:bJ,aggregate:bA[bJ.field]};
})};
});
}else{if(bB&&!bH.footer){bH.footer=bB;
}}if(bB.length){if(bG.scrollable){bD=bB.attr("tabindex",-1).children(".k-grid-footer-wrap");
bH.scrollables=b(bH.scrollables.filter(function(){return !b(this).is(".k-grid-footer-wrap");
}).toArray()).add(bD);
}if(bH._footerWidth){bB.find("table").css("width",bH._footerWidth);
}if(bD){var bF=bH.content.scrollLeft();
if(bG.scrollable!==true&&bG.scrollable.virtual){bF=bH.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft();
}bD.scrollLeft(bF);
}}if(bH.lockedContent){bH._appendLockedColumnFooter();
bH._applyLockedContainersWidth();
bH._syncLockedFooterHeight();
}},_wrapFooter:function(bA){var bD=this,bB="",bC=!aC.support.mobileOS?aC.support.scrollbar():0;
if(bD.options.scrollable){bB=b('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(av?' cellspacing="0"':"")+"><tbody>"+bA+"</tbody></table></div></div>");
bD._appendCols(bB.find("table"));
bB.css(aA?"padding-left":"padding-right",bC);
return bB;
}return'<tfoot class="k-grid-footer">'+bA+"</tfoot>";
},_columnMenu:function(){var bT=this,bO,bG=aE(bT.columns),bE,bQ=bT.options,bF=bQ.columnMenu,bP,bR,bH,bC,bJ=ad(bT.columns,function(bU){return bU.columns!==bp;
}).length>0,bM=this._isMobile,bL=function(bU){bT.trigger(p,{field:bU.field,container:bU.container});
},bD=function(bU){Y(bU.closest("table"),true);
},bS=function(bU){if(bT.trigger("sort",{sort:bU.sort})){bU.preventDefault();
}},bI=function(bU){if(bT.trigger("filter",{filter:bU.filter,field:bU.field})){bU.preventDefault();
}},bA=bQ.$angular;
if(bF){if(typeof bF=="boolean"){bF={};
}bC=aF(bT.thead);
for(var bK=0,bN=bC.length;
bK<bN;
bK++){bE=bG[bK];
var bB=bC.eq(bK);
if(!bE.command&&(bE.field||bB.attr("data-"+aC.ns+"field"))){bO=bB.data("kendoColumnMenu");
if(bO){bO.destroy();
}bR=bE.sortable!==false&&bF.sortable!==false&&bQ.sortable!==false?P({},bQ.sortable,{compare:(bE.sortable||{}).compare}):false;
bH=bQ.filterable&&bE.filterable!==false&&bF.filterable!==false?P({pane:bT.pane},bQ.filterable,bE.filterable):false;
if(bE.filterable&&bE.filterable.dataSource){bH.forceUnique=false;
bH.checkSource=bE.filterable.dataSource;
}if(bH){bH.format=bE.format;
}bP={dataSource:bT.dataSource,values:bE.values,columns:bF.columns,sortable:bR,filterable:bH,messages:bF.messages,owner:bT,closeCallback:bD,init:bL,pane:bT.pane,sort:bS,filtering:bI,filter:bM?":not(.k-column-active)":"",lockedColumns:!bJ&&bE.lockable!==false&&aG(bG).length>0};
if(bA){bP.$angular=bA;
}bB.kendoColumnMenu(bP);
}}}},_headerCells:function(){return this.thead.find("th").filter(function(){var bA=b(this);
return !bA.hasClass("k-group-cell")&&!bA.hasClass("k-hierarchy-cell");
});
},_filterable:function(){var bM=this,bE=aE(bM.columns),bI,bB,bA,bH=function(bN){bM.trigger(Q,{field:bN.field,container:bN.container});
},bC=function(bN){Y(bN.closest("table"),true);
},bG=function(bN){if(bM.trigger("filter",{filter:bN.filter,field:bN.field})){bN.preventDefault();
}},bF=bM.options.filterable;
if(bF&&typeof bF.mode==bf&&bF.mode.indexOf("menu")==-1){bF=false;
}if(bF&&!bM.options.columnMenu){bB=aF(bM.thead);
for(var bJ=0,bK=bB.length;
bJ<bK;
bJ++){bA=bB.eq(bJ);
if(bE[bJ].filterable!==false&&!bE[bJ].command&&(bE[bJ].field||bA.attr("data-"+aC.ns+"field"))){bI=bA.data("kendoFilterMenu");
if(bI){bI.destroy();
}bI=bA.data("kendoFilterMultiCheck");
if(bI){bI.destroy();
}var bD=bE[bJ].filterable;
var bL=P({},bF,bD,{dataSource:bM.dataSource,values:bE[bJ].values,format:bE[bJ].format,closeCallback:bC,title:bE[bJ].title||bE[bJ].field,init:bH,pane:bM.pane,change:bG});
if(bD&&bD.messages){bL.messages=P(true,{},bF.messages,bD.messages);
}if(bD&&bD.dataSource){bL.forceUnique=false;
bL.checkSource=bD.dataSource;
}if(bD&&bD.multi){bA.kendoFilterMultiCheck(bL);
}else{bA.kendoFilterMenu(bL);
}}}}},_filterRow:function(){var bP=this;
if(!bP._hasFilterRow()){return;
}var bM;
var bA=bP.options.$angular;
var bD=aE(bP.columns),bG=bP.options.filterable,bL=bP.thead.find(".k-filter-row"),bH=function(bQ){if(bP.trigger("filter",{filter:bQ.filter,field:bQ.field})){bQ.preventDefault();
}};
this._updateHeader(this.dataSource.group().length);
for(var bI=0;
bI<bD.length;
bI++){var bN,bC=bD[bI],bK=bP.options.filterable.operators,bE=false,bO=b("<th/>"),bF=bC.field;
if(bC.hidden){bO.hide();
}bL.append(bO);
if(bF&&bC.filterable!==false){var bB=bC.filterable&&bC.filterable.cell||{};
bN=bP.options.dataSource;
if(bN instanceof F){bN=bP.options.dataSource.options;
}var bJ=P(true,{},bG.messages);
if(bC.filterable){P(true,bJ,bC.filterable.messages);
}if(bB.enabled===false){bO.html("&nbsp;");
continue;
}if(bB.dataSource){bN=bB.dataSource;
bE=true;
}if(bC.filterable&&bC.filterable.operators){bK=bC.filterable.operators;
}bM={column:bC,dataSource:bP.dataSource,suggestDataSource:bN,customDataSource:bE,field:bF,messages:bJ,values:bC.values,template:bB.template,delay:bB.delay,inputWidth:bB.inputWidth,suggestionOperator:bB.suggestionOperator,minLength:bB.minLength,dataTextField:bB.dataTextField,operator:bB.operator,operators:bK,showOperators:bB.showOperators,change:bH};
if(bA){bM.$angular=bA;
}b("<span/>").attr(aC.attr("field"),bF).appendTo(bO).kendoFilterCell(bM);
}else{bO.html("&nbsp;");
}}},_sortable:function(){var bJ=this,bD=aE(bJ.columns),bC,bH,bA,bG=bJ.options.sortable,bI=function(bK){if(bJ.trigger("sort",{sort:bK.sort})){bK.preventDefault();
}};
if(bG){var bB=aF(bJ.thead);
for(var bE=0,bF=bB.length;
bE<bF;
bE++){bC=bD[bE];
if(bC.sortable!==false&&!bC.command&&bC.field){bA=bB.eq(bE);
bH=bA.data("kendoColumnSorter");
if(bH){bH.destroy();
}bA.attr("data-"+aC.ns+"field",bC.field).kendoColumnSorter(P({},bG,bC.sortable,{dataSource:bJ.dataSource,aria:true,filter:":not(.k-column-active)",change:bI}));
}}bB=null;
}},_columns:function(bB){var bH=this,bG=bH.table,bD,bA=bG.find("col"),bF,bC=bH.options.dataSource;
bB=bB.length?bB:aH(bG.find("th"),function(bO,bL){bO=b(bO);
var bN=bO.attr(aC.attr("sortable")),bJ=bO.attr(aC.attr("filterable")),bQ=bO.attr(aC.attr("type")),bK=bO.attr(aC.attr("groupable")),bI=bO.attr(aC.attr("field")),bP=bO.attr(aC.attr("title")),bM=bO.attr(aC.attr("menu"));
if(!bI){bI=bO.text().replace(/\s|[^A-z0-9]/g,"");
}return{field:bI,type:bQ,title:bP,sortable:bN!=="false",filterable:bJ!=="false",groupable:bK!=="false",menu:bM,template:bO.attr(aC.attr("template")),width:bA.eq(bL).css("width")};
});
bD=!(bH.table.find("tbody tr").length>0&&(!bC||!bC.transport));
if(bH.options.scrollable){var bE=bB;
bF=aG(bB);
bB=aQ(bB);
if(bF.length>0&&bB.length===0){throw new Error("There should be at least one non locked column");
}aV(bH.element.find("tr:has(th):first"),bE);
bB=bF.concat(bB);
}bH.columns=aU(bB,bD);
},_groups:function(){var bA=this.dataSource.group();
return bA?bA.length:0;
},_tmpl:function(bJ,bD,bA,bL){var bO=this,bK=P({},aC.Template,bO.options.templateSettings),bG,bH=bD.length,bN,bM={storage:{},count:0},bC,bP,bF=bO._hasDetails(),bB=[],bE=bO._groups(),bI=bO.options.navigatable;
if(!bJ){bJ="<tr";
if(bA){bB.push("k-alt");
}if(bF){bB.push("k-master-row");
}if(bB.length){bJ+=' class="'+bB.join(" ")+'"';
}if(bH){bJ+=" "+aC.attr("uid")+'="#='+aC.expr("uid",bK.paramName)+'#"';
}bJ+=" role='row'>";
if(bE>0&&!bL){bJ+=af(bE);
}if(bF){bJ+='<td class="k-hierarchy-cell"><a class="k-icon k-i-expand" href="\\#" tabindex="-1"></a></td>';
}for(bG=0;
bG<bH;
bG++){bC=bD[bG];
bN=bC.template;
bP=typeof bN;
bJ+="<td"+bg(bC.attributes);
if(bI){bJ+=" aria-describedby='"+bC.headerAttributes.id+"'";
}bJ+=" role='gridcell'>";
bJ+=bO._cellTmpl(bC,bM);
bJ+="</td>";
}bJ+="</tr>";
}bJ=aC.template(bJ,bK);
if(bM.count>0){return a1(bJ,bM.storage);
}return bJ;
},_headerCellText:function(bA){var bE=this,bB=P({},aC.Template,bE.options.templateSettings),bC=bA.headerTemplate,bF=typeof bC,bD=bA.title||bA.field||"";
if(bF===ab){bD=aC.template(bC,bB)({});
}else{if(bF===bf){bD=bC;
}}return bD;
},_cellTmpl:function(bA,bJ){var bL=this,bI=P({},aC.Template,bL.options.templateSettings),bK=bA.template,bH=bI.paramName,bC=bA.field,bE="",bF,bG,bD=bA.format,bM=typeof bK,bB=bA.values;
if(bA.command){if(ap(bA.command)){for(bF=0,bG=bA.command.length;
bF<bG;
bF++){if(bA.command[bF].visible){bE+=aC.format("#= {0}(data)? '{1}':'' #",bA.command[bF].visible,bL._createButton(bA.command[bF]).replace(bm,"\\#"));
}else{bE+=bL._createButton(bA.command[bF]).replace(bm,"\\#");
}}return bE;
}return bL._createButton(bA.command).replace(bm,"\\#");
}if(bM===ab){bJ.storage["tmpl"+bJ.count]=bK;
bE+="#=this.tmpl"+bJ.count+"("+bH+")#";
bJ.count++;
}else{if(bM===bf){bE+=bK;
}else{if(bB&&bB.length&&az(bB[0])&&"value" in bB[0]&&bC){bE+="#var v ="+aC.stringify(B(bB)).replace(bm,"\\#")+"#";
bE+="#var f = v[";
if(!bI.useWithBlock){bE+=bH+".";
}bE+=bC+"]#";
bE+="${f != null ? f : ''}";
}else{bE+=bA.encoded?"#:":"#=";
if(bD){bE+='kendo.format("'+bD.replace(aa,"\\$1")+'",';
}if(bC){bC=aC.expr(bC,bH);
bE+=bC+"==null?'':"+bC;
}else{bE+="''";
}if(bD){bE+=")";
}bE+="#";
}}}return bE;
},_templates:function(){var bI=this,bH=bI.options,bE=bI.dataSource,bG=bE.group(),bF=bI.footer||bI.wrapper.find(".k-grid-footer"),bA=bE.aggregate(),bB=aE(bI.columns),bD=aE(aG(bI.columns)),bC=bH.scrollable?aE(aQ(bI.columns)):bB;
if(bH.scrollable&&bD.length){if(bH.rowTemplate||bH.altRowTemplate){throw new Error("Having both row template and locked columns is not supported");
}bI.rowTemplate=bI._tmpl(bH.rowTemplate,bC,false,true);
bI.altRowTemplate=bI._tmpl(bH.altRowTemplate||bH.rowTemplate,bC,true,true);
bI.lockedRowTemplate=bI._tmpl(bH.rowTemplate,bD);
bI.lockedAltRowTemplate=bI._tmpl(bH.altRowTemplate||bH.rowTemplate,bD,true);
}else{bI.rowTemplate=bI._tmpl(bH.rowTemplate,bC);
bI.altRowTemplate=bI._tmpl(bH.altRowTemplate||bH.rowTemplate,bC,true);
}if(bI._hasDetails()){bI.detailTemplate=bI._detailTmpl(bH.detailTemplate||"");
}if(bI._group&&!at(bA)||!at(bA)&&!bF.length||ad(bB,function(bJ){return bJ.footerTemplate;
}).length){bI.footerTemplate=bI._footerTmpl(bB,bA,"footerTemplate","k-footer-template");
}if(bG&&ad(bB,function(bJ){return bJ.groupFooterTemplate;
}).length){bA=b.map(bG,function(bJ){return bJ.aggregates;
});
bI.groupFooterTemplate=bI._footerTmpl(bC,bA,"groupFooterTemplate","k-group-footer",bD.length);
if(bH.scrollable&&bD.length){bI.lockedGroupFooterTemplate=bI._footerTmpl(bD,bA,"groupFooterTemplate","k-group-footer");
}}if(bI.options.noRecords){bI.noRecordsTemplate=bI._noRecordsTmpl();
}},_noRecordsTmpl:function(){var bJ='<div class="{0}">{1}</div>';
var bA='<div class="k-grid-norecords-template"{1}>{0}</div>';
var bD=this.options.scrollable&&!this.wrapper[0].style.height?' style="margin:0 auto;position:static;"':"";
var bF={storage:{},count:0};
var bE=b.extend({},aC.Template,this.options.templateSettings);
var bC=bE.paramName;
var bG;
var bB="";
var bI;
var bH;
if(this.options.noRecords.template){bG=this.options.noRecords.template;
}else{bG=aC.format(bA,this.options.messages.noRecords,bD);
}bI=typeof bG;
if(bI==="function"){bF.storage["tmpl"+bF.count]=bG;
bB+="#=this.tmpl"+bF.count+"("+bC+")#";
bF.count++;
}else{if(bI==="string"){bB+=bG;
}}bH=aC.template(aC.format(bJ,aS,bB),bE);
if(bF.count>0){bH=b.proxy(bH,bF.storage);
}return bH;
},_footerTmpl:function(bC,bA,bQ,bK,bN){var bR=this,bM=P({},aC.Template,bR.options.templateSettings),bJ=bM.paramName,bG="",bH,bI,bP,bS,bO={},bD=0,bL={},bF=bR._groups(),bE=bR.dataSource._emptyAggregates(bA),bB;
bG+='<tr class="'+bK+'">';
if(bF>0&&!bN){bG+=af(bF);
}if(bR._hasDetails()){bG+='<td class="k-hierarchy-cell">&nbsp;</td>';
}for(bH=0,bI=bC.length;
bH<bI;
bH++){bB=bC[bH];
bP=bB[bQ];
bS=typeof bP;
bG+="<td"+bg(bB.footerAttributes)+">";
if(bP){if(bS!==ab){bL=bE[bB.field]?P({},bM,{paramName:bJ+"['"+bB.field+"']"}):{};
bP=aC.template(bP,bL);
}bO["tmpl"+bD]=bP;
bG+="#=this.tmpl"+bD+"("+bJ+")#";
bD++;
}else{bG+="&nbsp;";
}bG+="</td>";
}bG+="</tr>";
bG=aC.template(bG,bM);
if(bD>0){return a1(bG,bO);
}return bG;
},_detailTmpl:function(bF){var bI=this,bC="",bE=P({},aC.Template,bI.options.templateSettings),bD=bE.paramName,bH={},bG=0,bB=bI._groups(),bA=bu(aE(bI.columns)).length,bJ=typeof bF;
bC+='<tr class="k-detail-row">';
if(bB>0){bC+=af(bB);
}bC+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(bA?' colspan="'+bA+'"':"")+">";
if(bJ===ab){bH["tmpl"+bG]=bF;
bC+="#=this.tmpl"+bG+"("+bD+")#";
bG++;
}else{bC+=bF;
}bC+="</td></tr>";
bC=aC.template(bC,bE);
if(bG>0){return a1(bC,bH);
}return bC;
},_hasDetails:function(){var bA=this;
return bA.options.detailTemplate!==null||(bA._events[L]||[]).length;
},_hasFilterRow:function(){var bC=this.options.filterable;
var bD=bC&&typeof bC.mode==bf&&bC.mode.indexOf("row")!=-1;
var bA=this.columns;
var bB=b.grep(bA,function(bE){return bE.filterable===false;
});
if(bA.length&&bB.length==bA.length){bD=false;
}return bD;
},_details:function(){var bA=this;
if(bA.options.scrollable&&bA._hasDetails()&&aG(bA.columns).length){throw new Error("Having both detail template and locked columns is not supported");
}bA.table.on(m+aW,".k-hierarchy-cell .k-i-expand, .k-hierarchy-cell .k-i-collapse",function(bF){var bB=b(this),bG=bB.hasClass("k-i-expand"),bI=bB.closest("tr.k-master-row"),bD,bE=bA.detailTemplate,bC,bH=bA._hasDetails();
bB.toggleClass("k-i-expand",!bG).toggleClass("k-i-collapse",bG);
bD=bI.next();
if(bH&&!bD.hasClass("k-detail-row")){bC=bA.dataItem(bI);
bD=b(bE(bC)).addClass(bI.hasClass("k-alt")?"k-alt":"").insertAfter(bI);
bA.angular("compile",function(){return{elements:bD.get(),data:[{dataItem:bC}]};
});
bA.trigger(L,{masterRow:bI,detailRow:bD,data:bC,detailCell:bD.find(".k-detail-cell")});
}bA.trigger(bG?K:J,{masterRow:bI,detailRow:bD});
bD.toggle(bG);
if(bA._current){bA._current.attr("aria-expanded",bG);
}bF.preventDefault();
return false;
});
},dataItem:function(bF){bF=b(bF)[0];
if(!bF){return null;
}var bE=this.tbody.children(),bA=/k-grouping-row|k-detail-row|k-group-footer/,bC=bF.sectionRowIndex,bD,bB;
bB=bC;
for(bD=0;
bD<bC;
bD++){if(bA.test(bE[bD].className)){bB--;
}}return this._data[bB];
},expandRow:function(bA){b(bA).find("> td .k-i-expand").click();
},collapseRow:function(bA){b(bA).find("> td .k-i-collapse").click();
},_createHeaderCells:function(bA,bH){var bK=this,bD,bJ,bI,bC="",bG,bF=aE(bK.columns),bB;
for(bD=0,bG=bA.length;
bD<bG;
bD++){bJ=bA[bD].column||bA[bD];
bI=bK._headerCellText(bJ);
bB="";
var bE=ao(bJ,bF);
if(!bJ.command){if(bJ.field){bB=aC.attr("field")+"='"+bJ.field+"' ";
}bC+="<th scope='col' role='columnheader' "+bB;
bC+=" aria-haspopup='true'";
if(bH&&!bA[bD].colSpan){bC+=" rowspan='"+bH+"'";
}if(bA[bD].colSpan>1){bC+='colspan="'+(bA[bD].colSpan-am(bJ.columns))+'" ';
bC+=aC.attr("colspan")+"='"+bA[bD].colSpan+"'";
}if(bJ.title){bC+=aC.attr("title")+'="'+bJ.title.replace('"',"&quot;").replace(/'/g,"'")+'" ';
}if(bJ.groupable!==bp){bC+=aC.attr("groupable")+"='"+bJ.groupable+"' ";
}if(bJ.aggregates&&bJ.aggregates.length){bC+=aC.attr("aggregates")+"='"+bJ.aggregates+"'";
}if(bE>-1){bC+=aC.attr("index")+"='"+bE+"'";
}bC+=bg(bJ.headerAttributes);
bC+=">"+bI+"</th>";
}else{bC+="<th scope='col'"+bg(bJ.headerAttributes);
if(bH&&!bA[bD].colSpan){bC+=" rowspan='"+bH+"'";
}if(bE>-1){bC+=aC.attr("index")+"='"+bE+"'";
}bC+=">"+bI+"</th>";
}}return bC;
},_appendLockedColumnContent:function(){var bE=this.columns,bG,bA=this.table.find("colgroup"),bC=bA.find("col:not(.k-group-col,.k-hierarchy-col)"),bH,bI=b(),bJ=0,bF,bD,bK,bB=0;
for(bG=0,bH=bE.length;
bG<bH;
bG++){if(bE[bG].locked){if(aB(bE[bG])){bD=1;
if(bE[bG].columns){bD=aE(bE[bG].columns).length-am(bE[bG].columns);
}bD=bD||1;
for(bK=0;
bK<bD;
bK++){bI=bI.add(bC.eq(bG+bB+bK-bJ));
}bB+=bD-1;
}else{bJ++;
}}}bF=b('<div class="k-grid-content-locked"><table'+(av?' cellspacing="0"':"")+"><colgroup/><tbody></tbody></table></div>");
bA.detach();
bF.find("colgroup").append(bI);
bA.insertBefore(this.table.find("tbody"));
this.lockedContent=bF.insertBefore(this.content);
this.lockedTable=bF.children("table");
},_appendLockedColumnFooter:function(){var bJ=this;
var bC=bJ.footer;
var bA=bC.find(".k-footer-template>td");
var bB=bC.find(".k-grid-footer-wrap>table>colgroup>col");
var bE=b('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"></tr></tbody></table></div>');
var bF,bG;
var bD=bJ._groups();
var bH=b(),bI=b();
bH=bH.add(bA.filter(".k-group-cell"));
for(bF=0,bG=aE(aG(bJ.columns)).length;
bF<bG;
bF++){bH=bH.add(bA.eq(bF+bD));
}bI=bI.add(bB.filter(".k-group-col"));
for(bF=0,bG=bu(aE(bw(bJ.columns))).length;
bF<bG;
bF++){bI=bI.add(bB.eq(bF+bD));
}bH.appendTo(bE.find("tr"));
bI.appendTo(bE.find("colgroup"));
bJ.lockedFooter=bE.prependTo(bC);
},_appendLockedColumnHeader:function(bH){var bX=this,bG=this.columns,bP,bO,bS,bC,bY,bZ,bW,bN,bJ,bT=[],bU=0,bE=b(),bM=bX._hasFilterRow(),bK=0,bL=b(),bA,bR=0,bB=b();
bC=bX.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)");
bN=bX.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)");
bJ=bX.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)");
var bD=0;
for(bP=0,bS=bG.length;
bP<bS;
bP++){if(bG[bP].locked){bA=bN.eq(bP);
bR=aE(bG[bP].columns||[]).length;
if(aB(bG[bP])){var bF=null;
if(bG[bP].columns){bF=bR-am(bG[bP].columns);
}bF=bF||1;
for(var bV=0;
bV<bF;
bV++){bE=bE.add(bC.eq(bP+bD+bV-bU));
}bD+=bF-1;
}aI([bG[bP]],l(bA),bT,0,0);
bR=bR||1;
for(var bQ=0;
bQ<bR;
bQ++){bL=bL.add(bJ.eq(bK+bQ));
}bK+=bR;
}if(bG[bP].columns){bU+=am(bG[bP].columns);
}if(!aB(bG[bP])){bU++;
}}if(bT.length){bO='<div class="k-grid-header-locked" style="width:1px"><table'+(av?' cellspacing="0"':"")+"><colgroup/><thead>";
bO+=new Array(bT.length+1).join("<tr></tr>");
bO+=(bM?'<tr class="k-filter-row" />':"")+"</thead></table></div>";
bW=b(bO);
bC=bW.find("colgroup");
bC.append(bX.thead.prev().find("col.k-group-col").add(bE));
bY=bW.find("thead tr:not(.k-filter-row)");
for(bP=0,bS=bT.length;
bP<bS;
bP++){bB=bn(bT[bP]);
bY.eq(bP).append(bX.thead.find("tr:eq("+bP+") .k-group-cell").add(bB));
}var bI=a4(this.thead);
if(bT.length<bI){a6(bW,bI-bT.length);
}bZ=bW.find(".k-filter-row");
bZ.append(bX.thead.find(".k-filter-row .k-group-cell").add(bL));
this.lockedHeader=bW.prependTo(bH);
this.thead.find(".k-group-cell").remove();
return true;
}return false;
},_removeLockedContainers:function(){var bA=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);
aC.destroy(bA);
bA.off(aW).remove();
this.lockedHeader=this.lockedContent=this.lockedFooter=null;
this.selectable=null;
},_thead:function(){var bL=this,bA=bL.columns,bD=bL._hasDetails()&&bA.length,bE=bL._hasFilterRow(),bI,bH="",bM=bL.table.find(">thead"),bG=bL.element.find("thead:first").length>0,bN;
if(!bM.length){bM=b("<thead/>").insertBefore(bL.tbody);
}if(bL.lockedHeader&&bL.thead){bN=bL.thead.find("tr:has(th):not(.k-filter-row)").html("");
bN.remove();
bN=b();
bL._removeLockedContainers();
}else{if(bG){bN=bL.element.find("thead:first tr:has(th):not(.k-filter-row)");
}else{bN=bL.element.find("tr:has(th):first");
}}if(!bN.length){bN=bM.children().first();
if(!bN.length){var bJ=[{rowSpan:1,cells:[],index:0}];
bL._prepareColumns(bJ,bA);
for(bI=0;
bI<bJ.length;
bI++){bH+="<tr>";
if(bD){bH+='<th class="k-hierarchy-cell" scope="col">&nbsp;</th>';
}bH+=bL._createHeaderCells(bJ[bI].cells,bJ[bI].rowSpan);
bH+="</tr>";
}bN=b(bH);
}}if(bE){var bC=b("<tr/>");
bC.addClass("k-filter-row");
if(bD||bN.find(".k-hierarchy-cell").length){bC.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;</th>');
}var bB=(bL.thead||bM).find(".k-filter-row");
if(bB.length){aC.destroy(bB);
bB.remove();
}bM.append(bC);
}if(!bN.children().length){bH="";
if(bD){bH+='<th class="k-hierarchy-cell" scope="col">&nbsp;</th>';
}bH+=bL._createHeaderCells(bA);
bN.html(bH);
}else{if(bD&&!bN.find(".k-hierarchy-cell")[0]){bN.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;</th>');
}}bN.attr("role","row").find("th").addClass("k-header");
if(!bL.options.scrollable){bM.addClass("k-grid-header");
}bN.find("script").remove().end().prependTo(bM);
if(bL.thead){bL._destroyColumnAttachments();
}this.angular("cleanup",function(){return{elements:bM.find("th").get()};
});
this.angular("compile",function(){return{elements:bM.find("th").get(),data:aH(bA,function(bO){return{column:bO};
})};
});
bL.thead=bM.attr("role","rowgroup");
bL._sortable();
bL._filterable();
bL._filterRow();
bL._scrollable();
bL._updateCols();
bL._columnMenu();
var bK;
var bF=this.options.scrollable&&aG(this.columns).length;
if(bF){bK=bL._appendLockedColumnHeader(bL.thead.closest(".k-grid-header"));
bL._appendLockedColumnContent();
bL.lockedContent.bind("DOMMouseScroll"+aW+" mousewheel"+aW,a1(bL._wheelScroll,bL));
}bL._updateColumnCellIndex();
bL._updateFirstColumnClass();
bL._resizable();
bL._draggable();
bL._reorderable();
bL._updateHeader(bL._groups());
if(bF){if(bK){bL._syncLockedHeaderHeight();
}bL._applyLockedContainersWidth();
}if(bL.groupable){bL._attachGroupable();
}},_retrieveFirstColumn:function(bB,bD){var bC=b();
if(bD.length&&bB[0]){var bA=bB[0];
while(bA.columns&&bA.columns.length){bA=bA.columns[0];
bD=bD.filter(":not(:first())");
}bC=bC.add(bD);
}return bC;
},_updateFirstColumnClass:function(){var bD=this,bA=bD.columns||[],bB=bD._hasDetails()&&bA.length;
if(!bB&&!bD._groups()){var bE=bD.thead.find(">tr:not(.k-filter-row):not(:first)");
bA=aQ(bA);
var bC=bD._retrieveFirstColumn(bA,bE);
if(bD._isLocked()){bE=bD.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)");
bA=aG(bD.columns);
bC=bC.add(bD._retrieveFirstColumn(bA,bE));
}bC.each(function(){var bF=b(this).find("th");
bF.removeClass("k-first");
bF.eq(0).addClass("k-first");
});
}},_prepareColumns:function(bH,bC,bE,bF){var bG=bF||bH[bH.length-1];
var bB=bH[bG.index+1];
var bI=0;
for(var bD=0;
bD<bC.length;
bD++){var bA={column:bC[bD],colSpan:0};
bG.cells.push(bA);
if(bC[bD].columns&&bC[bD].columns.length){if(!bB){bB={rowSpan:0,cells:[],index:bH.length};
bH.push(bB);
}bA.colSpan=bC[bD].columns.length;
this._prepareColumns(bH,bC[bD].columns,bA,bB);
bI+=bA.colSpan-1;
bG.rowSpan=bH.length-bG.index;
}}if(bE){bE.colSpan+=bI;
}},_wheelScroll:function(bC){if(bC.ctrlKey){return;
}var bA=this.content;
if(this.options.scrollable.virtual){bA=this.virtualScrollable.verticalScrollbar;
}var bD=bA.scrollTop(),bB=aC.wheelDeltaY(bC);
if(bB){bC.preventDefault();
bA.scrollTop(bD+-bB);
}},_isLocked:function(){return this.lockedHeader!=null;
},_updateHeaderCols:function(){var bA=this.thead.parent().add(this.table);
if(this._isLocked()){aT(bA,bv(bx(this.columns)),this._hasDetails(),0);
}else{aT(bA,bv(bu(this.columns)),this._hasDetails(),0);
}},_updateCols:function(bA){bA=bA||this.thead.parent().add(this.table);
this._appendCols(bA,this._isLocked());
},_updateLockedCols:function(bA){if(this._isLocked()){bA=bA||this.lockedHeader.find("table").add(this.lockedTable);
aT(bA,bv(bw(this.columns)),this._hasDetails(),this._groups());
}},_appendCols:function(bB,bA){if(bA){aT(bB,bv(bx(this.columns)),this._hasDetails(),0);
}else{aT(bB,bv(bu(this.columns)),this._hasDetails(),this._groups());
}},_autoColumns:function(bC){if(bC&&bC.toJSON){var bD=this,bB,bA;
bC=bC.toJSON();
bA=!(bD.table.find("tbody tr").length>0&&(!bD.dataSource||!bD.dataSource.transport));
for(bB in bC){bD.columns.push({field:bB,encoded:bA,headerAttributes:{id:aC.guid()}});
}bD._thead();
bD._templates();
}},_rowsHtml:function(bB,bG){var bH=this,bC="",bD,bF=bG.rowTemplate,bA=bG.altRowTemplate,bE;
for(bD=0,bE=bB.length;
bD<bE;
bD++){if(bD%2){bC+=bA(bB[bD]);
}else{bC+=bF(bB[bD]);
}bH._data.push(bB[bD]);
}return bC;
},_groupRowHtml:function(bH,bC,bP,bJ,bS,bQ){var bU=this,bM="",bN,bO,bE=bH.field,bD=ad(aE(bU.columns),function(bV){return bV.field==bE;
})[0]||{},bR=bD.groupHeaderTemplate,bT=(bD.title||bE)+": "+Z(bH.value,bD.format,bD.values,bD.encoded),bG=bU._groupAggregatesDefaultObject||{},bB=P({},bG,bH.aggregates),bL=P({},{field:bH.field,value:bH.value,aggregates:bB},bH.aggregates[bH.field]),bI=bS.groupFooterTemplate,bK=bH.items;
if(bR){bT=typeof bR===ab?bR(bL):aC.template(bR)(bL);
}bM+=bJ(bC,bP,bT);
if(bH.hasSubgroups){for(bN=0,bO=bK.length;
bN<bO;
bN++){bM+=bU._groupRowHtml(bK[bN],bQ?bC:bC-1,bP+1,bJ,bS,bQ);
}}else{bM+=bU._rowsHtml(bK,bS);
}if(bI){var bF={};
for(var bA in bB){bF[bA]=P({},bB[bA],{group:{field:bH.field,value:bH.value}});
}bM+=bI(bF);
}return bM;
},collapseGroup:function(bB){bB=b(bB);
var bF,bC=this.options.groupable,bI=bC.showFooter,bA=bI?0:1,bG,bH=b(),bD,bE,bK;
if(this._isLocked()){if(!bB.closest("div").hasClass("k-grid-content-locked")){bH=bB.nextAll("tr");
bB=this.lockedTable.find(">tbody>tr:eq("+bB.index()+")");
}else{bH=this.tbody.children("tr:eq("+bB.index()+")").nextAll("tr");
}}bF=bB.find(".k-group-cell").length;
bB.find(".k-i-collapse").addClass("k-i-expand").removeClass("k-i-collapse");
bB.find("td[aria-expanded='true']:first").attr("aria-expanded",false);
bB=bB.nextAll("tr");
var bJ=[];
for(bD=0,bE=bB.length;
bD<bE;
bD++){bK=bB.eq(bD);
bG=bK.find(".k-group-cell").length;
if(bK.hasClass("k-grouping-row")){bA++;
}else{if(bK.hasClass("k-group-footer")){bA--;
}}if(bG<=bF||bK.hasClass("k-group-footer")&&bA<0){break;
}if(bH.length){bJ.push(bH[bD]);
}bJ.push(bK[0]);
}b(bJ).hide();
},expandGroup:function(bB){bB=b(bB);
var bJ=this,bI=bJ.options.groupable.showFooter,bF,bK,bG,bH=b(),bD,bE,bA=[],bC=1;
if(this._isLocked()){if(!bB.closest("div").hasClass("k-grid-content-locked")){bH=bB.nextAll("tr");
bB=this.lockedTable.find(">tbody>tr:eq("+bB.index()+")");
}else{bH=this.tbody.children("tr:eq("+bB.index()+")").nextAll("tr");
}}bF=bB.find(".k-group-cell").length;
bB.find(".k-i-expand").addClass("k-i-collapse").removeClass("k-i-expand");
bB.find("td[aria-expanded='false']:first").attr("aria-expanded",true);
bB=bB.nextAll("tr");
for(bD=0,bE=bB.length;
bD<bE;
bD++){bK=bB.eq(bD);
bG=bK.find(".k-group-cell").length;
if(bG<=bF){break;
}if(bG==bF+1&&!bK.hasClass("k-detail-row")){bK.show();
bH.eq(bD).show();
if(bK.hasClass("k-grouping-row")&&bK.find(".k-icon").hasClass("k-i-collapse")){bJ.expandGroup(bK);
}if(bK.hasClass("k-master-row")&&bK.find(".k-icon").hasClass("k-i-collapse")){bK.next().show();
bH.eq(bD+1).show();
}}if(bK.hasClass("k-grouping-row")){if(bI){bA.push(bK.is(":visible"));
}bC++;
}if(bK.hasClass("k-group-footer")){if(bI){bK.toggle(bA.pop());
}if(bC==1){bK.show();
bH.eq(bD).show();
}else{bC--;
}}}},_updateHeader:function(bC){var bF=this,bA=bF._isLocked()?bF.lockedHeader.find("thead"):bF.thead,bB=bA.find("tr.k-filter-row").find("th.k-group-cell").length,bD=bA.find("tr:first").find("th.k-group-cell").length,bE=bA.children("tr:not(:first)").filter(function(){return !b(this).children(":visible").length;
});
if(bC>bD){b(new Array(bC-bD+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>')).prependTo(bA.children("tr:not(.k-filter-row)"));
if(bF.element.is(":visible")){bE.find("th.k-group-cell").hide();
}}else{if(bC<bD){bA.find("tr").each(function(){b(this).find("th.k-group-cell").filter(":eq("+bC+"),:gt("+bC+")").remove();
});
}}if(bC>bB){b(new Array(bC-bB+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>')).prependTo(bA.find(".k-filter-row"));
}},_firstDataItem:function(bA,bB){if(bA&&bB){if(bA.hasSubgroups){bA=this._firstDataItem(bA.items[0],bB);
}else{bA=bA.items[0];
}}return bA;
},_updateTablesWidth:function(){var bB=this,bA;
if(!bB._isLocked()){return;
}bA=b(">.k-grid-footer>.k-grid-footer-wrap>table",bB.wrapper).add(bB.thead.parent()).add(bB.table);
bB._footerWidth=bk(bA.eq(0));
bA.width(bB._footerWidth);
bA=b(">.k-grid-footer>.k-grid-footer-locked>table",bB.wrapper).add(bB.lockedHeader.find(">table")).add(bB.lockedTable);
bA.width(bk(bA.eq(0)));
},hideColumn:function(bC){var bN=this,bA,bM,bJ,bB,bF,bL,bP=0,bI,bK,bH=bN.footer||bN.wrapper.find(".k-grid-footer"),bE=bN.columns,bO=bN.lockedHeader?aF(bN.lockedHeader.find(">table>thead")).filter(aq).length:0,bD;
if(typeof bC=="number"){bC=bE[bC];
}else{if(az(bC)){bC=ad(V(bE),function(bQ){return bQ===bC;
})[0];
}else{bC=ad(V(bE),function(bQ){return bQ.field===bC;
})[0];
}}if(!bC||!aB(bC)){return;
}if(bC.columns&&bC.columns.length){bL=y(bC,bE);
bd(bC,false);
bc(N(b(">table>thead",bN.lockedHeader),bN.thead,">tr:eq("+bL.row+")>th"),bL.cell,false);
for(bJ=0;
bJ<bC.columns.length;
bJ++){this.hideColumn(bC.columns[bJ]);
}bN.trigger(n,{column:bC});
return;
}bD=ao(bC,bu(aE(bE)));
bd(bC,false);
bN._setParentsVisibility(bC,false);
bN._templates();
bN._updateCols();
bN._updateLockedCols();
var bG=bN.thead;
bI=bD;
if(bN.lockedHeader&&bO>bD){bG=bN.lockedHeader.find(">table>thead");
}else{bI-=bO;
}bA=aF(bG).filter(aq).eq(bI);
bA[0].style.display="none";
bc(N(b(">table>thead",bN.lockedHeader),bN.thead,">tr.k-filter-row>th"),bD,false);
if(bH[0]){bN._updateCols(bH.find(">.k-grid-footer-wrap>table"));
bN._updateLockedCols(bH.find(">.k-grid-footer-locked>table"));
bc(bH.find(".k-footer-template>td"),bD,false);
}if(bN.lockedTable&&bO>bD){an(bN.lockedTable.find(">tbody>tr"),bD);
}else{an(bN.tbody.children(),bD-bO);
}if(bN.lockedTable){bN._updateTablesWidth();
bN._applyLockedContainersWidth();
bN._syncLockedContentHeight();
bN._syncLockedHeaderHeight();
bN._syncLockedFooterHeight();
}else{bB=bN.thead.prev().find("col");
for(bJ=0,bK=bB.length;
bJ<bK;
bJ+=1){bF=bB[bJ].style.width;
if(bF&&bF.indexOf("%")==-1){bP+=parseInt(bF,10);
}else{bP=0;
break;
}}bM=b(">.k-grid-header table:first,>.k-grid-footer table:first",bN.wrapper).add(bN.table);
bN._footerWidth=null;
if(bP){bM.each(function(){this.style.width=bP+"px";
});
bN._footerWidth=bP;
}if(i.msie&&i.version==8){bM.css("display","inline-table");
setTimeout(function(){bM.css("display","table");
},1);
}}bN._updateFirstColumnClass();
bN.trigger(n,{column:bC});
},_setParentsVisibility:function(bC,bJ){var bD=this.columns;
var bE;
var bG=[];
var bF;
var bH;
var bA;
var bB;
var bI=bJ?function(bK){return bu(bK.columns).length&&bK.hidden;
}:function(bK){return !bu(bK.columns).length&&!bK.hidden;
};
if(r(bC,bD,bG)&&bG.length){for(bE=bG.length-1;
bE>=0;
bE--){bF=bG[bE];
bH=s(bF,bD);
bA=N(b(">table>thead",this.lockedHeader),this.thead,">tr:eq("+bH.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(bH.cell);
if(bI(bF)){bd(bF,bJ);
bA[0].style.display=bJ?"":"none";
}if(bA.filter("["+aC.attr("colspan")+"]").length){bB=parseInt(bA.attr(aC.attr("colspan")),10);
bA[0].colSpan=bB-am(bF.columns)||1;
}}}},showColumn:function(bC){var bO=this,bJ,bK,bA,bN,bP,bI,bM,bF,bB,bE=bO.columns,bH=bO.footer||bO.wrapper.find(".k-grid-footer"),bL=bO.lockedHeader?aF(bO.lockedHeader.find(">table>thead")).length:0,bD;
if(typeof bC=="number"){bC=bE[bC];
}else{if(az(bC)){bC=ad(V(bE),function(bQ){return bQ===bC;
})[0];
}else{bC=ad(V(bE),function(bQ){return bQ.field===bC;
})[0];
}}if(!bC||aB(bC)){return;
}if(bC.columns&&bC.columns.length){bM=s(bC,bE);
bd(bC,true);
bc(N(b(">table>thead",bO.lockedHeader),bO.thead,">tr:eq("+bM.row+")>th"),bM.cell,true);
for(bJ=0;
bJ<bC.columns.length;
bJ++){this.showColumn(bC.columns[bJ]);
}bO.trigger(v,{column:bC});
return;
}bD=ao(bC,aE(bE));
bd(bC,true);
bO._setParentsVisibility(bC,true);
bO._templates();
bO._updateCols();
bO._updateLockedCols();
var bG=bO.thead;
bI=bD;
if(bO.lockedHeader&&bL>bD){bG=bO.lockedHeader.find(">table>thead");
}else{bI-=bL;
}bA=aF(bG).eq(bI);
bA[0].style.display="";
bc(N(b(">table>thead",bO.lockedHeader),bO.thead,">tr.k-filter-row>th"),bD,true);
if(bH[0]){bO._updateCols(bH.find(">.k-grid-footer-wrap>table"));
bO._updateLockedCols(bH.find(">.k-grid-footer-locked>table"));
bc(bH.find(".k-footer-template>td"),bD,true);
}if(bO.lockedTable&&bL>bD){be(bO.lockedTable.find(">tbody>tr"),bD);
}else{be(bO.tbody.children(),bD-bL);
}if(bO.lockedTable){bO._updateTablesWidth();
bO._applyLockedContainersWidth();
bO._syncLockedContentHeight();
bO._syncLockedHeaderHeight();
}else{bN=b(">.k-grid-header table:first,>.k-grid-footer table:first",bO.wrapper).add(bO.table);
if(!bC.width){bN.width("");
}else{bP=0;
bB=bO.thead.prev().find("col");
for(bJ=0,bK=bB.length;
bJ<bK;
bJ+=1){bF=bB[bJ].style.width;
if(bF.indexOf("%")>-1){bP=0;
break;
}bP+=parseInt(bF,10);
}bO._footerWidth=null;
if(bP){bN.each(function(){this.style.width=bP+"px";
});
bO._footerWidth=bP;
}}}bO._updateFirstColumnClass();
bO.trigger(v,{column:bC});
},_progress:function(bB){var bA=this.element;
if(this.lockedContent){bA=this.wrapper;
}else{if(this.element.is("table")){bA=this.element.parent();
}else{if(this.content&&this.content.length){bA=this.content;
}}}aC.ui.progress(bA,bB);
},_resize:function(bB,bA){this._syncLockedContentHeight();
this._syncLockedHeaderHeight();
if(this.content){this._setContentWidth();
this._setContentHeight();
}if(this.virtualScrollable&&(bA||this._rowHeight)){if(bA){this._rowHeight=null;
}this.virtualScrollable.repaintScrollbar();
}},_isActiveInTable:function(){var bA=c();
if(!bA){return false;
}return this.table[0]===bA||b.contains(this.table[0],bA)||this._isLocked()&&(this.lockedTable[0]===bA||b.contains(this.lockedTable[0],bA));
},refresh:function(bE){var bI=this,bD=bI.dataSource.view(),bH=bI.options.navigatable,bC,bB=b(bI.current()),bG=false,bF=(bI.dataSource.group()||[]).length,bA=bF+bv(bu(bI.columns)).length;
if(bE&&bE.action==="itemchange"&&bI.editable){return;
}if(bE&&bE.action==="remove"&&bI.editable&&bI.editable.options.model&&ao(bI.editable.options.model,bE.items)>-1){bI.editable.options.model.unbind(k,bI._modelChangeHandler);
}bE=bE||{};
if(bI.trigger("dataBinding",{action:bE.action||"rebind",index:bE.index,items:bE.items})){return;
}bI._angularItems("cleanup");
if(bH&&(bI._isActiveInTable()||bI._editContainer&&bI._editContainer.data("kendoWindow"))){bG=bB.is("th");
bC=Math.max(bI.cellIndex(bB),0);
}bI._destroyEditable();
bI._progress(false);
bI._hideResizeHandle();
bI._data=[];
if(!bI.columns.length){bI._autoColumns(bI._firstDataItem(bD[0],bF));
bA=bF+bI.columns.length;
}bI._group=bF>0||bI._group;
if(bI._group){bI._templates();
bI._updateCols();
bI._updateLockedCols();
bI._updateHeader(bF);
bI._group=bF>0;
}bI._renderContent(bD,bA,bF);
bI._renderLockedContent(bD,bA,bF);
bI._footer();
bI._renderNoRecordsContent();
bI._setContentHeight();
bI._setContentWidth(bI.content&&bI.content.scrollLeft());
if(bI.lockedTable){if(bI.options.scrollable.virtual){bI.content.find(">.k-virtual-scrollable-wrap").trigger("scroll");
}else{if(bI.touchScroller){bI.touchScroller.movable.trigger("change");
}else{bI.wrapper.one("scroll",function(bJ){bJ.stopPropagation();
});
bI.content.trigger("scroll");
}}}bI._restoreCurrent(bC,bG);
if(bI.touchScroller){bI.touchScroller.contentResized();
}if(bI.selectable){bI.selectable.resetTouchEvents();
}bI._muteAngularRebind(function(){bI._angularItems("compile");
});
bI.trigger(E);
},_restoreCurrent:function(bA,bB){if(bA===bp||bA<0){return;
}this._removeCurrent();
if(bB){this._setCurrent(this.thead.find("th:not(.k-group-cell)").eq(bA));
}else{var bD=0;
if(this._rowVirtualIndex){bD=this.virtualScrollable.position(this._rowVirtualIndex);
}else{bA=0;
}var bC=b();
if(this.lockedTable){bC=this.lockedTable.find(">tbody>tr").eq(bD);
}bC=bC.add(this.tbody.children().eq(bD));
var bE=bC.find(">td:not(.k-group-cell):not(.k-hierarchy-cell)").eq(bA);
this._setCurrent(bE);
}if(this._current){Y(this._current.closest("table")[0],true);
}},_angularItems:function(bA){aC.ui.DataBoundWidget.fn._angularItems.call(this,bA);
if(bA==="cleanup"){this._cleanupDetailItems();
}this._angularGroupItems(bA);
this._angularGroupFooterItems(bA);
},_cleanupDetailItems:function(){var bA=this;
if(bA._hasDetails()){bA.angular("cleanup",function(){return{elements:bA.tbody.children(".k-detail-row")};
});
bA.tbody.find(".k-detail-cell").empty();
}},_angularGroupItems:function(bA){var bC=this,bB=bC.tbody;
if(bC.lockedContent){bB=bC.lockedTable.find("tbody");
}if(bC._group){bC.angular(bA,function(){return{elements:bB.children(".k-grouping-row"),data:b.map(aj(bC.dataSource.view()),function(bD){return{dataItem:bD};
})};
});
}},_angularGroupFooterItems:function(bA){var bC=this,bB=bC.tbody;
if(bC.lockedContent){bB=bC.element;
}if(bC._group&&bC.groupFooterTemplate){bC.angular(bA,function(){return{elements:bB.find(".k-group-footer"),data:b.map(ag(bC.dataSource.view()),function(bD){return{dataItem:bD};
})};
});
}},_renderContent:function(bB,bA,bC){var bI=this,bE,bG,bD="",bF=bI.lockedContent!=null,bH={rowTemplate:bI.rowTemplate,altRowTemplate:bI.altRowTemplate,groupFooterTemplate:bI.groupFooterTemplate};
bA=bF?bA-bv(bw(bI.columns)).length:bA;
if(bC>0){bA=bF?bA-bC:bA;
if(bI.detailTemplate){bA++;
}if(bI.groupFooterTemplate){bI._groupAggregatesDefaultObject=bI.dataSource.aggregates();
}for(bE=0,bG=bB.length;
bE<bG;
bE++){bD+=bI._groupRowHtml(bB[bE],bA,0,bF?ai:ah,bH,bF);
}}else{bD+=bI._rowsHtml(bB,bH);
}bI.tbody=g(bI.tbody,bI.table,bD,this.options.$angular);
},_renderLockedContent:function(bB,bA,bC){var bD="",bE,bF,bH={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate};
if(this.lockedContent){var bG=this.lockedTable;
if(bC>0){bA=bA-bu(aE(aQ(this.columns))).length;
for(bE=0,bF=bB.length;
bE<bF;
bE++){bD+=this._groupRowHtml(bB[bE],bA,0,ah,bH);
}}else{bD=this._rowsHtml(bB,bH);
}g(bG.children("tbody"),bG,bD,this.options.$angular);
this._syncLockedContentHeight();
}},_adjustRowsHeight:function(bK,bL){var bI=bK[0].rows,bF=bI.length,bE,bJ=bL[0].rows,bA=bK.add(bL),bB=bA.length,bD=[];
for(bE=0;
bE<bF;
bE++){if(!bJ[bE]){break;
}if(bI[bE].style.height){bI[bE].style.height=bJ[bE].style.height="";
}}for(bE=0;
bE<bF;
bE++){if(!bJ[bE]){break;
}var bG=bI[bE].offsetHeight;
var bH=bJ[bE].offsetHeight;
var bC=0;
if(bG>bH){bC=bG;
}else{if(bG<bH){bC=bH;
}}bD.push(bC);
}for(bE=0;
bE<bB;
bE++){bA[bE].style.display="none";
}for(bE=0;
bE<bF;
bE++){if(bD[bE]){bI[bE].style.height=bJ[bE].style.height=bD[bE]+1+"px";
}}for(bE=0;
bE<bB;
bE++){bA[bE].style.display="";
}}});
if(aC.ExcelMixin){aC.ExcelMixin.extend(ae.prototype);
}if(aC.PDFMixin){aC.PDFMixin.extend(ae.prototype);
ae.prototype._drawPDF_autoPageBreak=function(bI){var bG=this;
var bL=new b.Deferred();
var bE=bG.dataSource;
var bA=bG.options.pdf.allPages;
var bH=bG.wrapper.find(".k-grid-content tbody");
var bD=b("<div>").css({position:"absolute",left:-10000,top:-10000});
var bC=bG.wrapper.clone().css({height:"auto",width:"auto"}).appendTo(bD);
bC.find(".k-grid-content").css({height:"auto",width:"auto",overflow:"visible"});
bC.find(".k-grid-pager, .k-grid-toolbar, .k-grouping-header").remove();
bC.find(".k-grid-header").css({paddingRight:0});
this._initPDFProgress(bI);
var bB=bC.find(".k-grid-content tbody").empty();
var bM=bE.page();
function bK(){if(bA&&bM!==bp){bE.one("change",bF);
bE.page(bM);
}else{bG.refresh();
bF();
}}function bF(){bD.appendTo(document.body);
var bN=b.extend({},bG.options.pdf,{_destructive:true,progress:function(bO){bI.notify({page:bO.page,pageNumber:bO.pageNum,progress:0.5+bO.pageNum/bO.totalPages/2,totalPages:bO.totalPages});
}});
aC.drawing.drawDOM(bC,bN).always(function(){bD.remove();
}).then(function(bO){bL.resolve(bO);
}).fail(function(bO){bL.reject(bO);
});
}function bJ(){var bN=bE.page();
var bO=bA?bE.totalPages():1;
bB.append(bH.find("tr"));
if(bN<bO){bE.page(bN+1);
}else{bE.unbind("change",bJ);
bK();
}}if(bA){bE.bind("change",bJ);
bE.page(1);
}else{bJ();
}return bL.promise();
};
ae.prototype._drawPDF=function(bF){var bE=this;
if(bE.options.pdf.paperSize&&bE.options.pdf.paperSize!="auto"){return bE._drawPDF_autoPageBreak(bF);
}var bH=new b.Deferred();
var bB=bE.dataSource;
var bA=bE.options.pdf.allPages;
this._initPDFProgress(bF);
var bC=new aC.drawing.Group();
var bI=bB.page();
function bG(){if(bA&&bI!==bp){bB.unbind("change",bD);
bB.one("change",function(){bH.resolve(bC);
});
bB.page(bI);
}else{bH.resolve(bC);
}}function bD(){bE._drawPDFShadow({width:bE.wrapper.width()},{avoidLinks:bE.options.pdf.avoidLinks}).done(function(bK){var bL=bB.page();
var bM=bA?bB.totalPages():1;
var bJ={page:bK,pageNumber:bL,progress:bL/bM,totalPages:bM};
bF.notify(bJ);
bC.append(bJ.page);
if(bL<bM){bB.page(bL+1);
}else{bG();
}}).fail(function(bJ){bH.reject(bJ);
});
}if(bA){bB.bind("change",bD);
bB.page(1);
}else{bD();
}return bH.promise();
};
ae.prototype._initPDFProgress=function(bA){var bB=b("<div class='k-loading-pdf-mask'><div class='k-loading-color'/></div>");
bB.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0}));
this.wrapper.append(bB);
var bC=b("<div class='k-loading-pdf-progress'>").appendTo(bB).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar");
bA.progress(function(bD){bC.value(bD.progress);
}).always(function(){aC.destroy(bB);
bB.remove();
});
};
}function bh(bD,bE){bD=bD[0];
bE=bE[0];
if(bD.rows.length!==bE.rows.length){var bB=bD.offsetHeight;
var bF=bE.offsetHeight;
var bC;
var bA;
if(bB>bF){bC=bE.rows[bE.rows.length-1];
if(R.test(bC.className)){bC=bE.rows[bE.rows.length-2];
}bA=bB-bF;
}else{bC=bD.rows[bD.rows.length-1];
if(R.test(bC.className)){bC=bD.rows[bD.rows.length-2];
}bA=bF-bB;
}bC.style.height=bC.offsetHeight+bA+"px";
}}function f(bD,bE){var bA;
var bB=bD.offsetHeight;
var bC=bE.offsetHeight;
if(bB>bC){bA=bB+"px";
}else{if(bB<bC){bA=bC+"px";
}}if(bA){bD.style.height=bE.style.height=bA;
}}function ac(bB,bE){var bC,bD,bA;
if(typeof bB===bf&&bB===bE){return bB;
}if(az(bB)&&bB.name===bE){return bB;
}if(ap(bB)){for(bC=0,bD=bB.length;
bC<bD;
bC++){bA=bB[bC];
if(typeof bA===bf&&bA===bE||bA.name===bE){return bA;
}}}return null;
}function Y(bF,bA){var bC=i.msie||i.edge;
if(bA===true){bF=b(bF);
var bE,bD;
bE=bF.parent().scrollTop();
bD=bF.parent().scrollLeft();
if(bC){try{bF[0].setActive();
}catch(bB){bF[0].focus();
}}else{bF[0].focus();
}bF.parent().scrollTop(bE).scrollLeft(bD);
}else{b(bF).one("focusin",function(bG){bG.preventDefault();
}).focus();
}}function ar(bA,bB){if(!bA.field){return false;
}if(bB.editable&&!bB.editable(bA.field)){return false;
}if(bA.editable&&!bA.editable(bB)){return false;
}return true;
}function ay(bA){return b(bA).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap,.k-tool-icon");
}function bj(bC){var bB=b(bC.currentTarget),bE=bB.is("th"),bG=this.table.add(this.lockedTable),bD=this.thead.parent().add(b(">table",this.lockedHeader)),bF=ay(bC.target),bA=bB.closest("table")[0];
if(aC.support.touch){return;
}if(bF&&bB.find(aC.roleSelector("filtercell")).length){this._setCurrent(bB);
return;
}if(bA!==bG[0]&&bA!==bG[1]&&bA!==bD[0]&&bA!==bD[1]){return;
}if(b(bC.target).is("a.k-i-expand, a.k-i-collapse")){return;
}if(this.options.navigatable){this._setCurrent(bB);
}if(bE||!bF){setTimeout(function(){if(!(aw&&b(aC._activeElement()).hasClass("k-widget"))){if(!ay(aC._activeElement())){Y(bA,true);
}}});
}if(bE){bC.preventDefault();
}}function ax(bA){return bA&&(bA.hasClass("k-edit-cell")||bA.parent().hasClass("k-grid-edit-row"));
}function ah(bA,bB,bC){return'<tr role="row" class="k-grouping-row">'+af(bB)+'<td colspan="'+bA+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+bC+"</p></td></tr>";
}function ai(bA){return'<tr role="row" class="k-grouping-row"><td colspan="'+bA+'" aria-expanded="true"><p class="k-reset">&nbsp;</p></td></tr>';
}bo.plugin(ae);
bo.plugin(bt);
}(window.kendo.jQuery));
return window.kendo;
},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)();
}));
