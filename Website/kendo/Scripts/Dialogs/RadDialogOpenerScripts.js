Type.registerNamespace("Telerik.Web.UI");
(function(){var a=$telerik.$;
var b=Telerik.Web.UI;
var d="Mobile";
var e=b.RenderMode;
var c=Telerik.Web.Browser;
b.DialogDefinition=function(){this.Width="600px";
this.Height="400px";
this.Title="";
this.Behaviors=36;
this.Modal=true;
this.VisibleStatusbar=false;
this.VisibleTitlebar=true;
this.ClientCallbackFunction="";
};
b.DialogDefinition.registerClass("Telerik.Web.UI.DialogDefinition",null);
b.DialogDefinitionsDictionary=function(i){for(var h in i){var j=i[h];
var f=new b.DialogDefinition();
for(var g in j){f[g]=j[g];
}this[h]=f;
}};
b.DialogDefinitionsDictionary.registerClass("Telerik.Web.UI.DialogDefinitionsDictionary",null);
b.DialogOpenEventArgs=function(g,f){b.DialogOpenEventArgs.initializeBase(this);
this._dialogName=g;
if(f){this._parameters=f;
}else{this._parameters={};
}};
b.DialogOpenEventArgs.prototype={get_dialogName:function(){return this._dialogName;
},set_parameters:function(f){this._parameters=f;
},get_parameters:function(){return this._parameters;
}};
b.DialogOpenEventArgs.registerClass("Telerik.Web.UI.DialogOpenEventArgs",Sys.EventArgs);
b.RadDialogOpener=function(f){b.RadDialogOpener.initializeBase(this,[f]);
this._dialogDefinitions={};
this._handlerChecked=false;
this._dialogParametersProviderTypeName="";
this._dialogUniqueID="";
this._dialogContainers={};
this._hasOpenedDialog=false;
};
b.RadDialogOpener.prototype={initialize:function(){b.RadDialogOpener.callBaseMethod(this,"initialize");
this._dialogDefinitions=new b.DialogDefinitionsDictionary(this.get_dialogDefinitions());
},get_dialogDefinitions:function(){return this._dialogDefinitions;
},openUrl:function(r,f,s,l,i,h,q,m,g,o,p,k){k="EXTERNAL_URL"+(k||"default");
var j=this._getDialogContainer(k);
j.set_width(s+"px");
j.set_height(l+"px");
j.set_behaviors(g||b.WindowBehaviors.Default);
j.set_modal(m==true);
j.set_visibleStatusbar(o==true);
j.set_visibleTitlebar(p==true);
j.set_title(q?q:"");
j.set_keepInScreenBounds(true);
var n=new b.DialogOpenEventArgs(r,f);
this.raiseEvent("open",n);
this._hasOpenedDialog=true;
j.ClientParameters=f;
j.set_clientCallBackFunction(i);
j.setUrl(r);
j.show();
j.center();
window.setTimeout(function(){j.setActive(true);
},100);
},open:function(j,g,f){if(!this._handlerChecked){this._checkDialogHandler(this.get_handlerUrl());
}j=this._getExistingPrefixedDialogName(j);
var i=this._getDialogDefinition(j);
var l=new b.DialogOpenEventArgs(j,g);
this.raiseEvent("open",l);
this._hasOpenedDialog=true;
g=l.get_parameters();
if(!f){f=i.ClientCallbackFunction;
}var h;
if(this.get_useClassicDialogs()){h=$create(b.ClassicDialog,{dialogOpener:this});
h.ClientParameters=g;
this._applyParameters(j,h);
if(f){h.set_clientCallBackFunction(f);
}window.__getCurrentRadEditorRadWindowReference=function(){return h;
};
var m=this._openBrowserWindow(h,i,j);
m.radWindow=h;
return m;
}else{h=this._getDialogContainer(j);
var k=i.Height||0;
if(!h.get_popupElement()){h.set_height(k);
h.set_width(i.Width||0);
h.set_behaviors(i.Behaviors);
h.set_modal(i.Modal);
h.set_visibleStatusbar(i.VisibleStatusbar);
h.set_visibleTitlebar(i.VisibleTitlebar);
h.set_keepInScreenBounds(true);
}if(i.ReloadOnShow!=null){h.set_reloadOnShow(i.ReloadOnShow);
}h.ClientParameters=g;
this._applyParameters(j,h);
if(j!="SpellCheckDialog"){this._sizeCenterCellDelegate=Function.createDelegate(this,this._sizeCenterCellWindowLoadHandler);
this._autoSizeDialogDelegate=Function.createDelegate(this,this._autoSizeDialogWindowLoadHandler);
h.add_pageLoad(this._sizeCenterCellDelegate);
h.add_pageLoad(this._autoSizeDialogDelegate);
}if(f){h.set_clientCallBackFunction(f);
}this._showDialogContainer(h);
if(!h.get_popupElement()){h.set_height(k);
}window.setTimeout(function(){if(h.isVisible()){h.center();
h.setActive(true);
}},c.iemobile?700:100);
}},openLight:function(i,g,f){var j=195;
var n=350;
var m=g.editor.get_renderMode();
if(g){if(g.height){j=g.height;
}if(g.width){n=g.width;
}}var k=new b.DialogOpenEventArgs(i,g);
this.raiseEvent("open",k);
this._hasOpenedDialog=true;
g=k.get_parameters();
var h=this._getDialogContainer(i);
h.set_height(j);
h.set_width(n);
h.set_behaviors(Telerik.Web.UI.WindowBehaviors.Move+Telerik.Web.UI.WindowBehaviors.Close);
h.set_modal(true);
h.set_visibleStatusbar(false);
h.set_visibleTitlebar(true);
if(f){h.set_clientCallBackFunction(f);
}h.ClientParameters=g;
Telerik.Web.UI.LightDialogsControllerClass.initializeLightDialog(h);
this._showDialogContainer(h);
if(m===e.Lite){h.autoSize(false);
}else{h.set_height(j);
}h.center();
if(g.stripPopupHeight===true){var l=h.get_popupElement();
if(l){l.style.height="";
}}window.setTimeout(function(){h.setActive(true);
},100);
},_openBrowserWindow:function(f,g,h){var i="width="+parseInt(g.Width,10)+",height="+parseInt(g.Height,10);
i+=",resizable=0,scrollbars=0,status=0,toolbar=0,menubar=0,directories=0";
return f.open(i,h);
},_hasVisibleDialog:function(){var f=this._dialogContainers;
for(var g in f){if(f[g].isVisible()){return true;
}}return false;
},get_hasOpenedDialog:function(){return this._hasOpenedDialog;
},_showDialogContainer:function(f){var g=this.get_renderMode()===b.RenderMode.Mobile;
var h=function(){f.show();
if(g){f.set_modal(false);
f.maximize();
}};
if(c.iemobile){setTimeout(h,600);
}else{h();
}},_sizeCenterCellWindowLoadHandler:function(f){if(this._sizeCenterCellDelegate){f.remove_pageLoad(this._sizeCenterCellDelegate);
delete this._sizeCenterCellDelegate;
}if(typeof(Telerik)=="undefined"){return;
}var g=function(l){l.remove_show(g);
var j=l.get_contentFrame(),i=j.contentWindow.document||j.contentDocument,h=l.get_contentElement()||l.ui.contentCell||l.ui.content,k=new RegExp("height\\s*:\\s*"+i.body.offsetHeight+"px(\\s*;)?","gmi");
h.style.height=i.body.offsetHeight+"px";
h.style.cssText=h.style.cssText.replace(k,"height: "+i.body.offsetHeight+"px !important;");
};
if(f&&f.isVisible&&f.isVisible()){g(f);
}else{if(f&&f.isVisible&&!f.isVisible()){f.add_show(g);
}}},_autoSizeDialogWindowLoadHandler:function(g){if(this._autoSizeDialogCellDelegate){g.remove_pageLoad(this._autoSizeDialogDelegate);
delete this._autoSizeDialogCellDelegate;
}if(typeof(Telerik)=="undefined"){return;
}var f=function(h){if($telerik.quirksMode){return;
}h.remove_show(f);
h.set_width(20);
h.set_height(20);
h.autoSize();
h.center();
};
if(g&&g.isVisible&&g.isVisible()){f(g);
}else{if(g&&g.isVisible&&!g.isVisible()){g.add_show(f);
}}},_applyParameters:function(j,g){var l=this._getDialogParameters(j);
if(!l){return;
}var o="&dp="+encodeURIComponent(l);
var f=this._getBaseDialogUrl(j);
var p=f.length+o.length;
var m=this._dialogParametersProviderTypeName=="";
var n=m&&p<=this.get_dialogUrlLengthLimit();
if(n){var i=g.get_navigateUrl();
var q=f+o;
if(i!=q){if(this.get_useClassicDialogs()||g.isCreated()){g.setUrl(q);
}else{g.set_navigateUrl(q);
}}else{var h=g.get_contentFrame();
if(h&&h.contentWindow&&h.contentWindow.$find){var k=h.contentWindow.initDialog;
if(k){h.contentWindow.setTimeout(function(){k();
},1);
}}}}else{g.setUrl(f);
g.DialogParameters=l;
}},_closeContainerDelegate:function(f){if(!this._hasVisibleDialog()){this._hasOpenedDialog=false;
}this.raiseEvent("close",f);
},_getDialogContainer:function(f){if(typeof(this._dialogContainers[f])=="undefined"){var g=$find(this.get_id()+f);
if(null!=g){g.dispose();
}this._dialogContainers[f]=this.get_container().clone(this.get_id()+f);
var h=this;
this._dialogContainers[f].get_dialogOpener=function(){return h;
};
this._dialogContainers[f].add_close(Function.createDelegate(this,this._closeContainerDelegate));
}return this._dialogContainers[f];
},_getBaseDialogUrl:function(f){var g=this.get_handlerUrl().indexOf("?")<0?"?":"&";
var h=this.get_handlerUrl()+g+"DialogName="+f;
if(this.get_enableTelerikManagers()){h+="&UseRSM=true";
}h+="&renderMode="+this._renderMode;
h+="&Skin="+this.get_skin()+"&Title="+encodeURIComponent(this._getDialogDefinition(f)["Title"])+"&doid="+this._dialogUniqueID+"&dpptn="+encodeURIComponent(this._dialogParametersProviderTypeName)+this.get_additionalQueryString();
return h;
},_getDialogDefinition:function(g){var f=this.get_dialogDefinitions()[g];
if(f){return f;
}else{throw Error.argumentNull("dialogName",String.format("Dialog Parameters for the {0} dialog do not exist",g));
}},_getDialogParameters:function(f){return this._getDialogDefinition(f)["SerializedParameters"];
},_getExistingPrefixedDialogName:function(g){var h=this._prefixDialogName(g);
var f=this.get_dialogDefinitions();
if(f[h]){return h;
}else{return g;
}},_prefixDialogName:function(f){var g=(this._renderMode==b.RenderMode.Mobile);
var h=g?d:"";
if(f.indexOf(h)===0){return f;
}else{return h+f;
}},_checkDialogHandler:function(i){var h=i.indexOf("?")<0?"?":"&";
var g=i+h+"checkHandler=true";
var j=new Sys.Net.WebRequest();
j.set_url(g);
j.add_completed(Function.createDelegate(this,this._checkRequestCompleted));
var f=new Sys.Net.XMLHttpExecutor();
j.set_executor(f);
f.executeRequest();
},_checkRequestCompleted:function(g,f){if(g.get_responseAvailable()){var h=g.get_responseData();
if(h&&h.indexOf("HandlerCheckOK")>0){this._handlerChecked=true;
return;
}}window.alert("Web.config registration missing!\n The Telerik dialogs require a HttpHandler registration in the web.config file. Please, use the control's Smart Tag to add the handler automatically, or see the help for more information: Controls > RadEditor > Dialogs > Introduction");
}};
a.registerControlProperties(b.RadDialogOpener,{additionalQueryString:"",enableTelerikManagers:false,handlerUrl:"",container:null,dialogUrlLengthLimit:2000,useClassicDialogs:false,skin:""});
a.registerControlEvents(b.RadDialogOpener,["open","close"]);
b.RadDialogOpener.registerClass("Telerik.Web.UI.RadDialogOpener",b.RadWebControl);
b.ClassicDialog=function(g,f){b.ClassicDialog.initializeBase(this);
this.BrowserWindow=window;
this._dialogOpener=null;
this._clientCallBackFunction=null;
this._window=null;
this._url="";
this._events={close:[],beforeClose:[],show:[]};
};
b.ClassicDialog.prototype={close:function(f){this.raiseEvent("beforeClose");
this.raiseEvent("close");
if(null!=f&&!(f instanceof Sys.UI.DomEvent)){var g=this.get_clientCallBackFunction();
if(typeof(g)=="string"){g=eval(g);
}if(g){g(this,f);
}}var h=this.get_contentFrame();
window.setTimeout(function(){h.close();
h.parent.focus();
},100);
},open:function(g,f){this._window=window.open(this.get_navigateUrl(),f,g);
this._window.focus();
if(!this._window.contentWindow){this._window.contentWindow=this._window;
}this.raiseEvent("show");
return this._window;
},get_dialogOpener:function(){return this._dialogOpener;
},set_dialogOpener:function(f){this._dialogOpener=f;
},get_clientCallBackFunction:function(){return this._clientCallBackFunction;
},set_clientCallBackFunction:function(f){this._clientCallBackFunction=f;
},setUrl:function(f){this._url=f;
},get_navigateUrl:function(){return this._url;
},get_contentFrame:function(){return this._window;
},set_title:function(g){if(this._window&&this._window.document){var f=this._window.document;
f.title=g;
}},dispose:function(){this._window=null;
this._clientCallBackFunction=null;
this._dialogOpener=null;
this._events=null;
b.ClassicDialog.callBaseMethod(this,"dispose");
},add_close:function(f){Array.add(this._events.close,f);
},remove_close:function(f){Array.remove(this._events.close,f);
},add_show:function(f){Array.add(this._events.show,f);
},remove_show:function(f){Array.remove(this._events.show,f);
},add_beforeClose:function(f){Array.add(this._events.beforeClose,f);
},remove_beforeClose:function(f){Array.remove(this._events.beforeClose,f);
},raiseEvent:function(g,f){var h=this._events[g];
this._raiseEvent(h,f);
},_raiseEvent:function(g,f){if(!g||(g.length===0)){return;
}g=Array.clone(g);
if(!g._handler){g._handler=function(n,j){for(var k=0,m=g.length;
k<m;
k++){g[k](n,j);
}};
}var h=g._handler;
if(h){if(!f){f=Sys.EventArgs.Empty;
}h(this,f);
}}};
b.ClassicDialog.registerClass("Telerik.Web.UI.ClassicDialog",Sys.Component);
})();
Type.registerNamespace("Telerik.Web.UI");
if(typeof(Telerik.Web.UI.EditorCommandEventArgs)=="undefined"){Telerik.Web.UI.EditorCommandEventArgs=function(a,b,c){Telerik.Web.UI.EditorCommandEventArgs.initializeBase(this);
this._name=this._commandName=a;
this._tool=b;
this._value=c;
this.value=c;
this._callbackFunction=null;
};
Telerik.Web.UI.EditorCommandEventArgs.prototype={get_name:function(){return this._name;
},get_commandName:function(){return this._commandName;
},get_tool:function(){return this._tool;
},get_value:function(){return this._value;
},set_value:function(a){this.value=a;
this._value=a;
},set_callbackFunction:function(a){this._callbackFunction=a;
}};
Telerik.Web.UI.EditorCommandEventArgs.registerClass("Telerik.Web.UI.EditorCommandEventArgs",Sys.CancelEventArgs);
}